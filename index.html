<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í…Œí† -ì—ê² ì„±ê²© í…ŒìŠ¤íŠ¸ ğŸ± ë‚˜ëŠ” í…Œí† ? ì—ê²?</title>
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        @font-face {
            font-family: 'Hakgyoansim';
            src: url('images/Hakgyoansim Badasseugi TTF B.ttf') format('truetype');
            font-weight: bold;
            font-display: swap;
        }
    </style>
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9301049765534210" crossorigin="anonymous"></script>
    
    <style>
        :root {
            --teto-color: #E6B566;
            --egen-color: #D4A574;
            --bg-color: #faeabf;
            --text-color: #4d3205;
            --secondary-text: #4d3205;
            --box-bg: #FFFFFF;
            --button-color: #cc8359;
            --button-hover: #b8724d;
            --shadow: 0 12px 35px rgba(204, 131, 89, 0.15);
            --card-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
            --gradient-bg: #faeabf;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Hakgyoansim', 'Gowun Dodum', sans-serif;
            background: var(--gradient-bg);
            color: var(--text-color);
            min-height: 100vh;
            margin: 0;
            padding: 0;
            position: relative;
            overflow-x: hidden;
            overflow-y: scroll;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><circle cx="5" cy="5" r="1" fill="%23E6B566" opacity="0.2"/><circle cx="15" cy="5" r="0.8" fill="%23D4A574" opacity="0.15"/><circle cx="5" cy="15" r="0.9" fill="%23F2D998" opacity="0.18"/><circle cx="15" cy="15" r="1.1" fill="%23cc8359" opacity="0.12"/><circle cx="10" cy="10" r="0.7" fill="%23E6B566" opacity="0.1"/><circle cx="2" cy="10" r="0.6" fill="%23D4A574" opacity="0.08"/><circle cx="18" cy="10" r="0.8" fill="%23F2D998" opacity="0.14"/><circle cx="10" cy="2" r="0.5" fill="%23cc8359" opacity="0.1"/><circle cx="10" cy="18" r="0.9" fill="%23E6B566" opacity="0.16"/></svg>') repeat;
            pointer-events: none;
            z-index: -1;
        }

        .container {
            width: 100%;
            min-height: 100vh;
            position: relative;
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: center;
        }

        .page {
            display: none;
        }

        .page:not(#start-page) {
            padding: 50px 30px;
            text-align: center;
            min-height: 600px;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 30px;
            margin: 20px;
            box-shadow: var(--card-shadow);
        }
        
        #result-page {
            background: #FFF7E8;
            padding: 30px 20px;
        }

        .page.active {
            display: block;
        }

        /* ì‹œì‘ í˜ì´ì§€ - ë§¤ê±°ì§„ ìŠ¤íƒ€ì¼ */
        .start-container {
            display: flex;
            min-height: 100vh;
            align-items: center;
            justify-content: center;
            padding: 60px 40px;
            gap: 30px;
            max-width: 1000px;
            margin: 0 auto;
            position: relative;
        }

        .content-section {
            flex: 1;
            max-width: 600px;
            z-index: 2;
        }

        @media (max-width: 768px) {
            .start-container {
                flex-direction: column;
                padding: 30px 20px;
                gap: 30px;
            }
            .content-section {
                max-width: 100%;
            }
        }

        .header {
            text-align: center;
        }

        .header h1 {
            font-family: 'Hakgyoansim', 'Gowun Dodum', sans-serif;
            font-size: 90px;
            color: var(--text-color);
            font-weight: 900;
            margin-bottom: 30px;
            line-height: 0.95;
            letter-spacing: -4px;
            text-shadow: 3px 3px 0px rgba(77, 50, 5, 0.15);
            transform: scale(1.05);
        }

        .header .subtitle {
            font-family: 'Hakgyoansim', 'Gowun Dodum', sans-serif;
            font-size: 40px;
            color: var(--secondary-text);
            margin-bottom: 60px;
            font-weight: 600;
            opacity: 0.95;
            text-shadow: 1px 1px 0px rgba(77, 50, 5, 0.1);
        }

        .features {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 25px;
            margin: 35px 0;
        }

        .feature-box {
            background: rgba(255, 255, 255, 0.4);
            padding: 30px 20px;
            border-radius: 25px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
            text-align: center;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .feature-box .icon {
            font-size: 40px;
            color: var(--button-color);
            margin-bottom: 20px;
            display: block;
            filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.1));
        }

        .feature-box strong {
            font-family: 'Hakgyoansim', 'Gowun Dodum', sans-serif;
            display: block;
            font-size: 19px;
            color: var(--text-color);
            margin-bottom: 12px;
            font-weight: 600;
        }

        .feature-box span {
            font-family: 'Gowun Dodum', sans-serif;
            font-size: 14px;
            color: var(--secondary-text);
            line-height: 1.6;
            opacity: 0.8;
        }

        .start-btn {
            background: linear-gradient(135deg, var(--button-color), var(--button-hover));
            color: #FFFFFF;
            font-size: 18px;
            padding: 18px 35px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-family: 'Gowun Dodum', sans-serif;
            font-weight: 700;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 10px 35px rgba(204, 131, 89, 0.3);
            margin: 0 8px 15px 8px;
            position: relative;
            overflow: hidden;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .start-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s;
        }

        .start-btn:hover::before {
            left: 100%;
        }

        .start-btn:hover {
            background: linear-gradient(135deg, var(--button-hover), #a5633f);
            transform: translateY(-3px) scale(1.03);
            box-shadow: 0 15px 45px rgba(184, 114, 77, 0.4);
            border-color: rgba(255, 255, 255, 0.4);
        }

        .start-btn:active {
            transform: translateY(-2px) scale(1.02);
        }

        .cat-visual {
            flex: 0 0 350px;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            background: transparent;
            padding: 20px;
            min-height: 700px;
            position: relative;
            margin-left: -50px;
            z-index: 1;
        }

        .cat-visual::before {
            content: 'â™¡';
            position: absolute;
            top: 50px;
            right: 30px;
            font-size: 28px;
            opacity: 0.6;
            animation: float 4s ease-in-out infinite;
            color: var(--teto-color);
            filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.1));
        }

        .cat-visual::after {
            content: 'â˜…';
            position: absolute;
            bottom: 80px;
            left: 40px;
            font-size: 24px;
            opacity: 0.5;
            animation: float 4s ease-in-out infinite reverse;
            color: var(--egen-color);
            filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.1));
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .cat-visual img {
            width: 150%;
            max-width: 600px;
            height: auto;
            object-fit: contain;
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            filter: drop-shadow(0 20px 60px rgba(230, 181, 102, 0.2));
            border-radius: 30px;
            position: relative;
            z-index: 2;
        }

        .cat-visual img:hover {
            transform: scale(1.05) rotate(1deg);
            filter: drop-shadow(0 25px 70px rgba(230, 181, 102, 0.4));
        }

        .cat-visual img:active {
            transform: scale(0.95);
        }

        @media (max-width: 768px) {
            .cat-visual {
                min-height: 400px;
                order: -1;
                flex: 0 0 280px;
            }
        }



        .gender-buttons {
            display: flex;
            gap: 16px;
            justify-content: center;
        }

        .combined-section {
            background: rgba(255, 255, 255, 0.4);
            border-radius: 30px;
            padding: 45px 40px;
            margin: 30px 0;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.4);
            text-align: center;
            backdrop-filter: blur(20px);
            position: relative;
            overflow: hidden;
        }

        .combined-section .description-text {
            font-family: 'Gowun Dodum', sans-serif;
            font-size: 19px;
            color: var(--secondary-text);
            line-height: 1.8;
            margin-bottom: 40px;
            font-weight: 400;
            opacity: 0.9;
        }

        .combined-section .description-text strong {
            font-family: 'Hakgyoansim', 'Gowun Dodum', sans-serif;
            font-weight: 600;
            color: var(--text-color);
            font-size: 21px;
        }

        .combined-section h3 {
            font-family: 'Hakgyoansim', 'Gowun Dodum', sans-serif;
            font-size: 24px;
            font-weight: 500;
            margin-bottom: 30px;
            color: var(--text-color);
        }

        .combined-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--teto-color), var(--egen-color));
            border-radius: 30px 30px 0 0;
        }
        
        @media (max-width: 768px) {
            .start-container {
                flex-direction: column;
                gap: 30px;
                padding: 40px 20px;
            }
            
            .gender-buttons {
                flex-direction: column;
            }
            
            .features {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .header h1 {
                font-size: 56px;
                transform: scale(1);
            }
            
            .header .subtitle {
                font-size: 24px;
            }
            
            .cat-visual {
                order: -1;
                min-height: 450px;
                flex: 0 0 300px;
            }
        }

        /* ì§ˆë¬¸ í˜ì´ì§€ - ìºë¦­í„° ê¸°ë°˜ UI */
        #question-page {
            background: linear-gradient(135deg, #FFF5D8 0%, #FFF9E6 50%, #FFF2DC 100%);
            padding: 30px 20px;
            position: relative;
            overflow: hidden;
            max-width: 800px;
            width: 100%;
        }

        /* ë°°ê²½ ì¥ì‹ ìš”ì†Œ */
        #question-page::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 20% 30%, rgba(230, 181, 102, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 80% 70%, rgba(212, 165, 116, 0.08) 0%, transparent 50%),
                        radial-gradient(circle at 40% 80%, rgba(242, 217, 152, 0.12) 0%, transparent 50%);
            pointer-events: none;
            animation: backgroundFloat 20s ease-in-out infinite;
        }

        @keyframes backgroundFloat {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            33% { transform: translateY(-10px) rotate(1deg); }
            66% { transform: translateY(5px) rotate(-1deg); }
        }

        .question-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .home-btn {
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid #8B4513;
            border-radius: 15px;
            padding: 10px 15px;
            font-size: 14px;
            font-weight: 600;
            color: #8B4513;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .home-btn:hover {
            background: #8B4513;
            color: white;
            transform: translateY(-2px);
        }
        
        .progress-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex: 1;
            background: rgba(255, 255, 255, 0.8);
            padding: 15px 25px;
            border-radius: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .question-number {
            font-size: 1.2rem;
            font-weight: 700;
            color: #8B4513;
            font-family: 'Hakgyoansim', sans-serif;
        }

        .progress-bar {
            width: 85%;
            height: 12px;
            background: #E0E0E0;
            border-radius: 6px;
            overflow: hidden;
            margin: 0 20px;
        }

        @media (max-width: 768px) {
            .progress-bar {
                width: 60%;
            }
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, #FFD700 0%, #FFA500 50%, #FF8C00 100%);
            width: 0%;
            transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 6px;
            position: relative;
            box-shadow: 0 2px 8px rgba(255, 165, 0, 0.3);
        }

        .progress::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            border-radius: 6px;
            animation: progressShine 2s ease-in-out infinite;
        }

        @keyframes progressShine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .question-area {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
            margin-bottom: 40px;
            animation: questionFadeIn 0.6s ease-out;
        }

        @keyframes questionFadeIn {
            0% {
                opacity: 0;
                transform: translateY(20px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .character-container {
            flex-shrink: 0;
            position: relative;
            order: 2;
        }

        .character {
            width: 250px;
            height: 300px;
            background: transparent;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            animation: gentle-bounce 3s ease-in-out infinite;
        }

        .speech-bubble {
            background: linear-gradient(135deg, #ffffff 0%, #fefefe 100%);
            padding: 20px 25px;
            border-radius: 20px;
            border: 3px solid #8B4513;
            position: relative;
            box-shadow: 0 8px 25px rgba(139, 69, 19, 0.15);
            width: 100%;
            max-width: 400px;
            margin-bottom: 20px;
            order: 1;
            animation: bubblePulse 3s ease-in-out infinite;
        }

        @keyframes bubblePulse {
            0%, 100% { box-shadow: 0 8px 25px rgba(139, 69, 19, 0.15); }
            50% { box-shadow: 0 10px 30px rgba(139, 69, 19, 0.2); }
        }

        .speech-bubble::before {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-top: 15px solid #8B4513;
        }

        .speech-bubble::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 12px solid transparent;
            border-right: 12px solid transparent;
            border-top: 12px solid white;
        }

        @keyframes gentle-bounce {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
        }

        .question-title {
            font-size: 1.3rem;
            line-height: 1.5;
            color: #8B4513;
            font-weight: 600;
            font-family: 'Hakgyoansim', sans-serif;
            margin: 0;
        }

        .choices {
            display: flex;
            flex-direction: column;
            gap: 12px;
            align-items: center;
            order: 3;
            margin-bottom: 30px;
        }
        
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            gap: 20px;
            max-width: 400px;
            margin: 0 auto;
            order: 4;
        }
        
        .nav-btn {
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid #8B4513;
            border-radius: 20px;
            padding: 12px 25px;
            font-size: 16px;
            font-weight: 600;
            color: #8B4513;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            flex: 1;
        }
        
        .nav-btn:hover:not(:disabled) {
            background: #8B4513;
            color: white;
            transform: translateY(-2px);
        }
        
        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .choice-btn {
            background: linear-gradient(135deg, #ffffff 0%, #fefefe 100%);
            border: 3px solid #8B4513;
            border-radius: 25px;
            padding: 18px 25px;
            font-size: 1rem;
            font-family: 'Hakgyoansim', sans-serif;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            text-align: left;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: relative;
            color: #8B4513;
            font-weight: 500;
            max-width: 400px;
            width: 100%;
            overflow: hidden;
        }

        .choice-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 248, 225, 0.8), transparent);
            transition: left 0.6s;
        }

        .choice-btn:hover {
            transform: translateX(-10px) scale(1.02) rotate(-1deg);
            box-shadow: 0 8px 25px rgba(139, 69, 19, 0.2);
            background: linear-gradient(135deg, #FFF8E1 0%, #FFF2DC 100%);
            border-color: #A0522D;
        }

        .choice-btn:hover::before {
            left: 100%;
        }
        
        .choice-btn.selected {
            background: linear-gradient(135deg, #8B4513 0%, #A0522D 100%);
            color: white;
            border-color: #654321;
        }

        .choice-btn:active {
            transform: translateX(-5px) scale(0.98);
            transition: all 0.1s ease;
        }

        /* ê²°ê³¼ í˜ì´ì§€ */
        .result-cat {
            width: 320px;
            height: 320px;
            margin: 0 auto 30px;
            border-radius: 30px;
            overflow: hidden;
            animation: celebration 1.5s ease-in-out;
            position: relative;
            box-shadow: var(--card-shadow);
        }

        .result-cat::before {
            content: 'â˜…';
            position: absolute;
            top: -15px;
            left: -15px;
            font-size: 30px;
            animation: party 2s ease-in-out infinite;
            z-index: 3;
            color: var(--teto-color);
        }

        .result-cat::after {
            content: 'â™¡';
            position: absolute;
            top: -10px;
            right: -10px;
            font-size: 25px;
            animation: party 2s ease-in-out infinite reverse;
            z-index: 3;
            color: var(--egen-color);
        }

        @keyframes party {
            0%, 100% { transform: rotate(0deg) scale(1); }
            25% { transform: rotate(10deg) scale(1.1); }
            75% { transform: rotate(-10deg) scale(1.1); }
        }

        .result-cat img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .result-cat.teto {
            border: 5px solid var(--teto-color);
        }

        .result-cat.egen {
            border: 5px solid var(--egen-color);
        }

        @keyframes celebration {
            0% { transform: scale(0) rotate(0deg); }
            50% { transform: scale(1.1) rotate(180deg); }
            100% { transform: scale(1) rotate(360deg); }
        }

        .result-type {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .result-type.teto {
            color: var(--teto-color);
        }

        .result-type.egen {
            color: var(--egen-color);
        }

        .result-subtitle {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 20px;
        }

        .result-desc {
            font-size: 1.1rem;
            line-height: 1.8;
            text-align: left;
            background: var(--box-bg);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .share-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .share-btn {
            padding: 12px 24px;
            border: 2px solid #D9B88E;
            border-radius: 20px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-family: 'Hakgyoansim', 'Gowun Dodum', sans-serif;
            font-weight: 500;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .share-btn:hover {
            transform: translateY(-3px) scale(1.08);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .share-btn:active {
            transform: translateY(-1px) scale(1.05);
        }

        .twitter { background: #1DA1F2; color: white; }
        .facebook { background: #4267B2; color: white; }
        .kakao { background: #FEE500; color: #3C1E1E; }

        .btn {
            background: #FFE0B2;
            color: #5D4037;
            border: 2px solid #D9B88E;
            border-radius: 25px;
            padding: 18px 45px;
            font-size: 1.2rem;
            font-family: 'Hakgyoansim', 'Gowun Dodum', sans-serif;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 8px 25px rgba(217, 184, 142, 0.3);
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:hover {
            background: #FFCC80;
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 12px 35px rgba(217, 184, 142, 0.5);
            border-color: #6C4F3D;
        }

        .btn:active {
            transform: translateY(-2px) scale(1.02);
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
        }
        
        @media (max-width: 480px) {
            .action-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .btn {
                padding: 15px 30px;
                font-size: 1rem;
            }
        }



        /* ê²°ê³¼ ì¹´ë“œ ìŠ¤íƒ€ì¼ */
        .result-card {
            max-width: 800px;
            margin: 0 auto;
            background: #FFFFFF;
            border-radius: 20px;
            padding: 0;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 2px solid #D9B88E;
            position: relative;
            overflow: hidden;
        }
        
        /* ì¹´ë“œ í—¤ë” */
        .card-header {
            background: linear-gradient(135deg, #ffffff, #fff8e8);
            padding: 25px;
            text-align: center;
            border-bottom: 2px solid #D9B88E;
        }
        
        .card-title {
            font-size: 2.2rem;
            font-weight: 900;
            color: #000000 !important;
            font-family: 'Hakgyoansim', serif;
            margin-bottom: 8px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        .card-subtitle {
            font-size: 1.1rem;
            color: #7F6751;
            font-weight: 500;
        }
        
        /* ë©”ì¸ ì»¨í…ì¸  */
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1.5fr;
            gap: 30px;
            padding: 30px;
        }
        
        /* ì™¼ìª½: ìºë¦­í„° ì„¹ì…˜ */
        .character-section {
            text-align: center;
        }
        
        .result-cat {
            width: 320px;
            height: 320px;
            margin: 0 auto 30px;
            border-radius: 30px;
            overflow: hidden;
            animation: celebration 1.5s ease-in-out;
            position: relative;
            box-shadow: var(--card-shadow);
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }
        
        .result-cat.teto-male {
            background-image: url('images/teto-male-background.png');
            border: 5px solid var(--teto-color);
        }
        
        .result-cat.egen-male {
            background-image: url('images/egen-male-background.png');
            border: 5px solid var(--egen-color);
        }
        
        .result-cat.teto-female {
            background-image: url('images/teto-female-background.png');
            border: 5px solid var(--teto-color);
        }
        
        .result-cat.egen-female {
            background-image: url('images/egen-female-background.png');
            border: 5px solid var(--egen-color);
        }
        
        .result-cat.teto-male2 {
            background-image: url('images/teto-male2-background.png');
            border: 5px solid var(--teto-color);
        }
        
        .result-cat.egen-male2 {
            background-image: url('images/egen-male2-background.png');
            border: 5px solid var(--egen-color);
        }
        
        .result-cat.teto-female2 {
            background-image: url('images/egen-male2-background.png');
            border: 5px solid var(--teto-color);
        }
        
        .result-cat.egen-female2 {
            background-image: url('images/egen-female2-background.png');
            border: 5px solid var(--egen-color);
        }
        
        .result-cat img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        
        .character-level {
            display: inline-block;
            background: #FFE0B2;
            color: #6C4F3D;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: 700;
            font-size: 1.2rem;
            border: 2px solid #D9B88E;
            margin-bottom: 20px;
        }
        
        /* ì„±í–¥ ì§€ìˆ˜ */
        .stat-gauge {
            margin-top: 20px;
        }
        
        .stat-label {
            color: #6C4F3D;
            font-weight: 600;
            margin-bottom: 10px;
            font-size: 1rem;
        }
        
        .gauge-track {
            height: 14px;
            background: linear-gradient(90deg, #FFB7A1, #A8D8EA);
            border-radius: 7px;
            border: 1px solid #D9B88E;
            position: relative;
            overflow: hidden;
        }
        
        .gauge-fill {
            position: absolute;
            top: -2px;
            width: 3px;
            height: 18px;
            background: #6C4F3D;
            border-radius: 2px;
            transition: left 2s cubic-bezier(0.4, 0, 0.2, 1);
            left: 50%;
            box-shadow: 0 0 8px rgba(108, 79, 61, 0.6);
        }
        
        .gauge-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
            font-size: 0.9rem;
            color: #7F6751;
            font-weight: 600;
        }
        
        /* ì˜¤ë¥¸ìª½: ì •ë³´ ì„¹ì…˜ */
        .info-section {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }
        
        .features-box, .compatibility-box {
            background: #FFF7E8;
            padding: 20px;
            border-radius: 15px;
            border: 1px solid #D9B88E;
        }
        
        .section-title {
            color: #6C4F3D;
            font-weight: 700;
            font-size: 1.2rem;
            margin-bottom: 15px;
            font-family: 'Hakgyoansim', serif;
        }
        
        /* íŠ¹ì„± ê·¸ë¦¬ë“œ */
        .features-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }
        
        .feature-item {
            background: #FFFFFF;
            border: 1px solid #D9B88E;
            padding: 12px 16px;
            border-radius: 10px;
            font-size: 0.9rem;
            font-weight: 600;
            color: #6C4F3D;
            text-align: center;
        }
        
        /* ê¶í•© ì¹´ë“œ */
        .compatibility-cards {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .compat-card {
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            border: 2px solid;
        }
        
        .compat-card.good {
            background: linear-gradient(135deg, #F0F8F0, #F8FDF8);
            border-color: #A8D8A8;
        }
        
        .compat-card.bad {
            background: linear-gradient(135deg, #FFF5F5, #FDF0F0);
            border-color: #E8B4B4;
        }
        
        .match-type {
            font-weight: 700;
            font-size: 1rem;
            margin-bottom: 8px;
        }
        
        .compat-card.good .match-type {
            color: #5A8A5A;
        }
        
        .compat-card.bad .match-type {
            color: #B85A5A;
        }
        
        .match-reason {
            font-size: 0.85rem;
            color: #7F6751;
            line-height: 1.5;
        }
        
        /* ì•„ë˜: ìºë¦­í„° ì •ë³´ */
        .description-section {
            padding: 25px 30px;
            border-top: 1px solid #D9B88E;
            background: #FFF7E8;
        }
        
        .character-desc {
            color: #7F6751;
            line-height: 1.8;
            font-size: 1rem;
        }
        
        @media (max-width: 768px) {
            .result-card {
                margin: 10px;
            }
            
            .main-content {
                grid-template-columns: 1fr;
                gap: 20px;
                padding: 20px;
            }
            
            .features-grid, .compatibility-cards {
                grid-template-columns: 1fr;
            }
            
            .result-cat {
                width: 250px;
                height: 250px;
            }
        }

        /* ë°˜ì‘í˜• */
        @media (max-width: 480px) {
            .container {
                margin: 10px;
            }
            
            .page {
                padding: 30px 20px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .result-cat {
                width: 250px;
                height: 250px;
            }
        }

        .hidden { display: none; }
        
        /* ì¶”ê°€ ì• ë‹ˆë©”ì´ì…˜ í‚¤í”„ë ˆì„ */
        @keyframes floatUp {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-50px) scale(1.5);
            }
        }
        
        @keyframes bounce {
            0% {
                transform: scale(0) rotate(0deg);
                opacity: 0;
            }
            50% {
                transform: scale(1.3) rotate(180deg);
                opacity: 1;
            }
            100% {
                transform: scale(1) rotate(360deg);
                opacity: 1;
            }
        }
        
        @keyframes fadeInUp {
            0% {
                opacity: 0;
                transform: translateY(30px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes pawFade {
            0% {
                opacity: 0.6;
                transform: scale(1);
            }
            100% {
                opacity: 0;
                transform: scale(0.5);
            }
        }
        
        /* í˜¸ë²„ ì‹œ ì„¸ë ¨ëœ íš¨ê³¼ë“¤ */
        .feature-box:hover {
            transform: translateY(-8px) scale(1.02);
            background: rgba(255, 255, 255, 0.8);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.12);
        }
        
        .feature-box:hover .icon {
            transform: scale(1.1);
            animation: wiggle 0.6s ease-in-out;
        }
        
        .feature-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transition: left 0.8s;
        }
        
        .feature-box:hover::before {
            left: 100%;
        }
        
        /* ê²°ê³¼ í˜ì´ì§€ ì¶”ê°€ ì¥ì‹ */
        .result-type {
            position: relative;
        }
        
        .result-type::before {
            content: 'â˜…';
            position: absolute;
            left: -40px;
            top: 50%;
            transform: translateY(-50%);
            animation: sparkle 2s ease-in-out infinite;
            color: var(--button-color);
        }
        
        .result-type::after {
            content: 'â˜…';
            position: absolute;
            right: -40px;
            top: 50%;
            transform: translateY(-50%);
            animation: sparkle 2s ease-in-out infinite reverse;
            color: var(--button-color);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ì‹œì‘ í˜ì´ì§€ -->
        <div id="start-page" class="page active">
            <div class="start-container">
                <div class="content-section">
                    <div class="header">
                        <h1>í…Œí† -ì—ê²<br/>ì„±ê²© ìœ í˜• í…ŒìŠ¤íŠ¸</h1>
                        <p class="subtitle">ë‚˜ì˜ ì§„ì§œ ì„±í–¥ì„ ì•Œì•„ë³´ì„¸ìš”!</p>
                    </div>
                    
                    <div class="features">
                        <div class="feature-box">
                            <div class="icon">â™¡</div>
                            <strong>ì¬ë¯¸ìˆê³  ì •í™•í•´ìš”</strong>
                            <span>ê°„ë‹¨í•˜ê³  ì¬ë¯¸ìˆëŠ” í…ŒìŠ¤íŠ¸</span>
                        </div>
                        <div class="feature-box">
                            <div class="icon">â€»</div>
                            <strong>4ê°€ì§€ ë§¤ë ¥ì ì¸ ìœ í˜•</strong>
                            <span>í…Œí† ë‚¨Â·ì—ê²ë‚¨ Â· í…Œí† ë…€ Â· ì—ê²ë…€</span>
                        </div>
                        <div class="feature-box">
                            <div class="icon">â˜…</div>
                            <strong>ìƒì„¸í•œ ì„±í–¥ ë¶„ì„</strong>
                            <span>ì—°ì•  ìŠ¤íƒ€ì¼ë¶€í„° ì¼ìƒ íŒ¨í„´ê¹Œì§€ ì™„ë²½ ë¶„ì„</span>
                        </div>
                    </div>
                    
                    <div class="combined-section">
                        <p class="description-text"><strong>í…Œí† -ì—ê² ì„±ê²© ìœ í˜•ì´ë€?</strong><br/>
                        ì‚¬ëŒì˜ ì„±í–¥ì„ ì§ì„ ì ì¸ í…Œí† ì™€ ê°ì„±ì ì¸ ì—ê²ìœ¼ë¡œ ë‚˜ëˆ 
                        4ê°€ì§€ ìŠ¤íƒ€ì¼ë¡œ í‘œí˜„í•œ ì‹¬ë¦¬ ë°ˆì´ì—ìš”.
                         ì¬ë¯¸ë¡œ ë³´ëŠ” ì„±ê²© ìœ í˜•ì´ì§€ë§Œ, ë‚˜ë¥¼ ì•Œì•„ë³´ëŠ” ë° ê°€ë³ê²Œ ì°¸ê³ í•  ìˆ˜ ìˆì–´ìš”.</p>
                        
                        <h3>ì„±ë³„ì„ ì„ íƒí•˜ê³  í…ŒìŠ¤íŠ¸ë¥¼ ì‹œì‘í•´ë³´ì„¸ìš”</h3>
                        <div class="gender-buttons">
                            <button class="start-btn" onclick="selectGender('male')">â™‚ ë‚¨ì„±ìœ¼ë¡œ ì‹œì‘</button>
                            <button class="start-btn" onclick="selectGender('female')">â™€ ì—¬ì„±ìœ¼ë¡œ ì‹œì‘</button>
                        </div>
                    </div>
                </div>
                
                <div class="cat-visual">
                    <img id="main-cat-img" src="" alt="ê³ ì–‘ì´ ìºë¦­í„°" onclick="changeCat()">
                </div>
            </div>
            

        </div>

        <!-- ì§ˆë¬¸ í˜ì´ì§€ -->
        <div id="question-page" class="page">
            <div class="question-header">
                <button class="home-btn" onclick="goHome()">í™ˆ</button>
                <div class="progress-container">
                    <div class="question-number">
                        <span id="current-q">1</span> / <span id="total-q">10</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress" id="progress"></div>
                    </div>
                </div>
            </div>
            
            <div class="question-area">
                <div class="character-container">
                    <div class="character" id="character">
                        <img src="images/ì§„ì„±í…Œí† ë‚¨.png" alt="ìºë¦­í„°" style="width: 100%; height: 100%; object-fit: contain;">
                    </div>
                </div>
                <div class="speech-bubble">
                    <div class="question-title" id="question-text"></div>
                </div>
            </div>
            
            <div class="choices" id="choices-container">
                <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
            </div>
            
            <div class="navigation-buttons">
                <button class="nav-btn prev-btn" id="prev-btn" onclick="previousQuestion()" disabled>ì´ì „</button>
                <button class="nav-btn next-btn" id="next-btn" onclick="nextQuestion()" disabled>ë‹¤ìŒ</button>
            </div>
            

        </div>

        <!-- ê²°ê³¼ í˜ì´ì§€ -->
        <div id="result-page" class="page">
            <div class="result-card">
                <!-- ì¹´ë“œ í—¤ë” -->
                <div class="card-header">
                    <div class="card-title" id="result-type"></div>
                    <div class="card-subtitle" id="result-subtitle"></div>
                </div>
                
                <!-- ë©”ì¸ ì»¨í…ì¸  ì˜ì—­ -->
                <div class="main-content">
                    <!-- ì™¼ìª½: ìºë¦­í„° ì´ë¯¸ì§€ -->
                    <div class="character-section">
                        <div class="result-cat" id="result-cat-container">
                            <img id="result-cat-img" src="" alt="ìºë¦­í„° ì´ˆìƒí™”">
                        </div>
                        <div class="character-level">
                            <span>LV.</span>
                            <span id="score-percentage"></span>
                        </div>
                        
                        <!-- ì„±í–¥ ì§€ìˆ˜ -->
                        <div class="stat-gauge">
                            <div class="stat-label">ì„±í–¥ ì§€ìˆ˜</div>
                            <div class="gauge-track">
                                <div class="gauge-fill" id="gauge-pointer"></div>
                            </div>
                            <div class="gauge-labels">
                                <span>ì—ê²</span>
                                <span>í…Œí† </span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ì˜¤ë¥¸ìª½: íŠ¹ì„± & ê¶í•© -->
                    <div class="info-section">
                        <!-- ì£¼ìš” íŠ¹ì„± -->
                        <div class="features-box">
                            <div class="section-title">ì£¼ìš” íŠ¹ì„±</div>
                            <div class="features-grid" id="features-list"></div>
                        </div>
                        
                        <!-- ê¶í•© ì •ë³´ -->
                        <div class="compatibility-box">
                            <div class="section-title">ì—°ì•  ê¶í•©</div>
                            <div class="compatibility-cards">
                                <div class="compat-card good" id="love-good-content"></div>
                                <div class="compat-card bad" id="love-bad-content"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ì•„ë˜: ìºë¦­í„° ì •ë³´ -->
                <div class="description-section">
                    <div class="section-title">ìºë¦­í„° ì •ë³´</div>
                    <div class="character-desc" id="detailed-desc"></div>
                </div>
            </div>
            

            
            <div class="action-buttons">
                <button class="btn" onclick="shareResult()">ê³µìœ í•˜ê¸°</button>
                <button class="btn" onclick="restartTest()">ë‹¤ì‹œ í…ŒìŠ¤íŠ¸í•˜ê¸°</button>
            </div>
            
            <!-- ê´‘ê³  ì˜ì—­ -->
            <div id="ad-top" style="margin: 20px 0; text-align: center;"></div>
            <div id="ad-middle" style="margin: 20px 0; text-align: center;"></div>
            <div id="ad-bottom" style="margin: 20px 0; text-align: center;"></div>
            

        </div>
    </div>
    
    <!-- ë²•ì  ê³ ì§€ -->
    <footer style="margin: 40px 20px 20px; padding: 20px; background: rgba(255,255,255,0.8); border-radius: 15px; font-size: 0.9rem; color: #666; max-width: 1400px; margin-left: auto; margin-right: auto;">
        <div style="text-align: center; margin-bottom: 15px;">
            <a href="#privacy" onclick="showPrivacyPolicy()" style="color: #8B4513; text-decoration: none; margin: 0 10px;">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
            <a href="#terms" onclick="showTermsOfService()" style="color: #8B4513; text-decoration: none; margin: 0 10px;">ì„œë¹„ìŠ¤ ì´ìš©ì•½ê´€</a>
        </div>
        <div style="text-align: center; font-size: 0.8rem; color: #999;">
            ë³¸ ì‚¬ì´íŠ¸ëŠ” ë§ì¶¤í˜• ê´‘ê³ ë¥¼ ìœ„í•´ ì¿ í‚¤ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. <a href="https://www.google.com/settings/ads" target="_blank" style="color: #8B4513;">ê´‘ê³  ì„¤ì •</a>
        </div>
    </footer>
    
    <!-- ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ ëª¨ë‹¬ -->
    <div id="privacy-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000;">
        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 30px; border-radius: 15px; max-width: 600px; max-height: 80%; overflow-y: auto;">
            <h2 style="color: #8B4513; margin-bottom: 20px;">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</h2>
            <div style="line-height: 1.6; color: #333;">
                <h3>1. ì¿ í‚¤ ì‚¬ìš©</h3>
                <p>ë³¸ ì‚¬ì´íŠ¸ëŠ” ë§ì¶¤í˜• ê´‘ê³ ë¥¼ ìœ„í•´ ì¿ í‚¤(Cookie)ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>
                
                <h3>2. ì œ3ì ê´‘ê³ </h3>
                <p>Googleê³¼ ê°™ì€ ì œ3ì ê´‘ê³  ì‚¬ì—…ìê°€ ì¿ í‚¤ë¥¼ ì‚¬ìš©í•´ ê´‘ê³ ë¥¼ ê²Œì¬í•©ë‹ˆë‹¤.</p>
                
                <h3>3. ê´‘ê³  ê±°ë¶€ê¶Œ</h3>
                <p>ì‚¬ìš©ìëŠ” <a href="https://www.google.com/settings/ads" target="_blank" style="color: #8B4513;">Google ê´‘ê³  ì„¤ì • í˜ì´ì§€</a>ì—ì„œ ë§ì¶¤ ê´‘ê³ ë¥¼ ê±°ë¶€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                
                <h3>4. ê°œì¸ì •ë³´ ìˆ˜ì§‘</h3>
                <p>ë³¸ ì‚¬ì´íŠ¸ëŠ” ë³„ë„ì˜ ê°œì¸ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ì§€ ì•Šìœ¼ë©°, í…ŒìŠ¤íŠ¸ ê²°ê³¼ëŠ” ì‚¬ìš©ì ê¸°ê¸°ì—ë§Œ ì €ì¥ë©ë‹ˆë‹¤.</p>
            </div>
            <button onclick="closeModal('privacy-modal')" style="margin-top: 20px; padding: 10px 20px; background: #8B4513; color: white; border: none; border-radius: 5px; cursor: pointer;">ë‹«ê¸°</button>
        </div>
    </div>
    
    <!-- ì„œë¹„ìŠ¤ ì´ìš©ì•½ê´€ ëª¨ë‹¬ -->
    <div id="terms-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000;">
        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 30px; border-radius: 15px; max-width: 600px; max-height: 80%; overflow-y: auto;">
            <h2 style="color: #8B4513; margin-bottom: 20px;">ì„œë¹„ìŠ¤ ì´ìš©ì•½ê´€</h2>
            <div style="line-height: 1.6; color: #333;">
                <h3>1. ì„œë¹„ìŠ¤ ì´ìš©</h3>
                <p>ë³¸ í…ŒìŠ¤íŠ¸ëŠ” ì¬ë¯¸ë¥¼ ìœ„í•œ ê²ƒìœ¼ë¡œ, ì‹¤ì œ ì„±ê²© ë¶„ì„ê³¼ëŠ” ì°¨ì´ê°€ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                
                <h3>2. AI ì´ë¯¸ì§€ ì €ì‘ê¶Œ</h3>
                <p>ë³¸ ì‚¬ì´íŠ¸ì˜ ì¼ë¶€ ì´ë¯¸ì§€ëŠ” AIë¡œ ìƒì„±ë˜ì—ˆìœ¼ë¯€ë¡œ ìš´ì˜ìì—ê²Œ ì €ì‘ê¶Œì´ ì—†ìŠµë‹ˆë‹¤.</p>
                
                <h3>3. ì´ë¯¸ì§€ ì‚¬ìš© ì±…ì„</h3>
                <p>AI ì´ë¯¸ì§€ë¥¼ ë¬´ë‹¨ ë³µì œ ë° ë°°í¬í•  ê²½ìš°, ì´ë¡œ ì¸í•´ ë°œìƒí•˜ëŠ” ëª¨ë“  ë²•ì  ì±…ì„ì€ í•´ë‹¹ í–‰ìœ„ë¥¼ í•œ ê°œì¸ì—ê²Œ ìˆìŠµë‹ˆë‹¤.</p>
                
                <h3>4. ìš´ì˜ì ë©´ì±…</h3>
                <p>ìš´ì˜ìëŠ” ì‚¬ìš©ìì˜ ì´ë¯¸ì§€ ë¬´ë‹¨ ì‚¬ìš©ìœ¼ë¡œ ë°œìƒí•˜ëŠ” ë¬¸ì œì— ëŒ€í•´ ì–´ë– í•œ ì±…ì„ë„ ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
                
                <h3>5. ì„œë¹„ìŠ¤ ë³€ê²½</h3>
                <p>ìš´ì˜ìëŠ” ì‚¬ì „ ê³ ì§€ ì—†ì´ ì„œë¹„ìŠ¤ë¥¼ ë³€ê²½í•˜ê±°ë‚˜ ì¤‘ë‹¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
            </div>
            <button onclick="closeModal('terms-modal')" style="margin-top: 20px; padding: 10px 20px; background: #8B4513; color: white; border: none; border-radius: 5px; cursor: pointer;">ë‹«ê¸°</button>
        </div>
    </div>

    <script>
        // ì „ì—­ ë³€ìˆ˜
        let currentQuestion = 0;
        let totalScore = 0;
        let selectedGender = null;
        
        // í•´ê¸ˆ ì‹œìŠ¤í…œ ê´€ë¦¬ (localStorage ì‚¬ìš©)
        function setUnlockData(characterKey, value) {
            try {
                localStorage.setItem(`unlocked_${characterKey}`, value.toString());
                console.log('í•´ê¸ˆ ì €ì¥:', characterKey, value);
            } catch (error) {
                console.error('í•´ê¸ˆ ì €ì¥ ì‹¤íŒ¨:', error);
            }
        }
        
        function getUnlockData(characterKey) {
            try {
                const result = localStorage.getItem(`unlocked_${characterKey}`);
                console.log('í•´ê¸ˆ í™•ì¸:', characterKey, result);
                return result;
            } catch (error) {
                console.error('í•´ê¸ˆ í™•ì¸ ì‹¤íŒ¨:', error);
                return null;
            }
        }
        
        function isUnlocked(characterKey) {
            const result = getUnlockData(characterKey) === 'true';
            console.log('í•´ê¸ˆ ìƒíƒœ:', characterKey, result);
            return result;
        }
        
        function unlockCharacter(characterKey) {
            setUnlockData(characterKey, 'true');
            console.log('ìºë¦­í„° í•´ê¸ˆ ì™„ë£Œ:', characterKey);
        }
        
        // ë©”ì¸ ê³ ì–‘ì´ ì´ë¯¸ì§€ ë°°ì—´ (ê¸°ë³¸ + í•´ê¸ˆëœ ìºë¦­í„°)
        const mainCatImages = [
            'images/result-teto-male.png',
            'images/result-egen-male.png', 
            'images/result-teto-female.png',
            'images/result-egen-female.png'
        ];
        
        function getAvailableImages() {
            try {
                const baseImages = [...mainCatImages];
                
                const specialImages = [
                    { key: 'egen-male2', img: 'images/result-egen-male2.png' },
                    { key: 'teto-male2', img: 'images/result-teto-male2.png' },
                    { key: 'egen-female2', img: 'images/result-egen-female2.png' },
                    { key: 'teto-female2', img: 'images/result-teto-female2.png' }
                ];
                
                specialImages.forEach(special => {
                    if (isUnlocked(special.key)) {
                        baseImages.push(special.img);
                    }
                });
                
                return baseImages;
            } catch (error) {
                return mainCatImages;
            }
        }
        
        function getQuestionImages() {
            try {
                const baseImages = [...mainCatImages];
                
                const specialImages = [
                    { key: 'egen-male2', unlocked: 'images/result-egen-male2.png', locked: 'images/flow-egen-male2.png' },
                    { key: 'teto-male2', unlocked: 'images/result-teto-male2.png', locked: 'images/flow-result-teto-male2.png' },
                    { key: 'egen-female2', unlocked: 'images/result-egen-female2.png', locked: 'images/flow-egen-female2.png' },
                    { key: 'teto-female2', unlocked: 'images/result-teto-female2.png', locked: 'images/flow-teto-female2.png' }
                ];
                
                specialImages.forEach(special => {
                    if (isUnlocked(special.key)) {
                        baseImages.push(special.unlocked);
                        console.log('í•´ê¸ˆëœ ìºë¦­í„° ì¶”ê°€:', special.key, special.unlocked);
                    } else {
                        baseImages.push(special.locked);
                        console.log('ì‹¤ë£¨ì—£ ìºë¦­í„° ì¶”ê°€:', special.key, special.locked);
                    }
                });
                
                console.log('ì§ˆë¬¸ì°½ ì‚¬ìš© ê°€ëŠ¥í•œ ì´ë¯¸ì§€:', baseImages);
                return baseImages;
            } catch (error) {
                console.error('getQuestionImages ì˜¤ë¥˜:', error);
                return mainCatImages;
            }
        }
        let currentCatIndex = 0;
        
        // ì§ˆë¬¸ ë°ì´í„° (15ê°œ ì§ˆë¬¸, 5ê°œ ì„ íƒì§€)
        const questions = [
            {
                q: "ê¸°ë¶„ ì¢‹ì„ ë•Œ ë‚˜ëŠ”?",
                choices: [
                    "ê¸€ì´ë‚˜ ìŒì•…ìœ¼ë¡œ í‘œí˜„í•´ìš”",
                    "ì–¼êµ´ë¡œ í‹°ë‚˜ìš”", 
                    "ê°€ë” ë§í•´ìš”",
                    "ë°”ë¡œ ë§ë¡œ í•´ìš”",
                    "ë§ ì•ˆ í•˜ê³  í–‰ë™í•´ìš”"
                ]
            },
            {
                q: "ì¹œêµ¬ë‘ ì–´ìš¸ë¦´ ë•?",
                choices: [
                    "ëª‡ ëª…ì´ë‘ë§Œ ê¹Šê²Œ ì§€ë‚´ìš”",
                    "ì¡°ìš©íˆ í•¨ê»˜ ìˆì–´ìš”",
                    "ê·¸ë•Œê·¸ë•Œ ë‹¬ë¼ìš”", 
                    "ëˆ„êµ¬ë‘ë„ ì˜ ì–´ìš¸ë ¤ìš”",
                    "ë‚´ê°€ ë¶„ìœ„ê¸° ì£¼ë„í•´ìš”"
                ]
            },
            {
                q: "ì¢‹ì•„í•˜ëŠ” ì‚¬ëŒ ìƒê¸°ë©´?",
                choices: [
                    "ë§ë„ ëª» ê±¸ì–´ìš”",
                    "ëˆˆì¹˜ë§Œ ë´ìš”",
                    "ê°€ë” í‹° ë‚´ìš”",
                    "ë¨¼ì € ë§í•´ìš”", 
                    "ë°”ë¡œ ëŒ€ì‹œí•´ìš”"
                ]
            },
            {
                q: "ì†ìƒí•  ë•Œ ë‚˜ëŠ”?",
                choices: [
                    "ê¸€ ì“°ê±°ë‚˜ ìŒì•… ë“¤ì–´ìš”",
                    "ë°©ì— í˜¼ì ìˆì–´ìš”",
                    "ì‚°ì±…í•´ìš”",
                    "ì¹œêµ¬ë‘ ì–˜ê¸°í•´ìš”",
                    "ìš´ë™í•˜ê±°ë‚˜ ë°”ë¡œ í„¸ì–´ìš”"
                ]
            },
            {
                q: "ì˜· ê³ ë¥¼ ë•ŒëŠ”?",
                choices: [
                    "ë¶„ìœ„ê¸°, ê°ì„± ì¤‘ìš”í•´ìš”",
                    "ìœ í–‰ ë”°ë¼ ì…ì–´ìš”",
                    "í¸í•˜ë©´ì„œ ì˜ˆìœ ê±¸ ê³¨ë¼ìš”",
                    "ì‹¬í”Œí•œ ê²Œ ì¢‹ì•„ìš”",
                    "í¸í•˜ë©´ ë‹¤ ê´œì°®ì•„ìš”"
                ]
            },
            {
                q: "ì¹œêµ¬ê°€ ìš¸ë©´?",
                choices: [
                    "ê°™ì´ ìš¸ì–´ìš”",
                    "ì˜†ì— ì¡°ìš©íˆ ìˆì–´ì¤˜ìš”",
                    "í† ë‹¥ì´ë©° ì–˜ê¸°í•´ìš”",
                    "ì›ƒê²Œ í•´ì¤˜ìš”",
                    "ì™œ ìš°ëŠ”ì§€ë¶€í„° ë¬¼ì–´ìš”"
                ]
            },
            {
                q: "ì£¼ë§ì—” ì£¼ë¡œ?",
                choices: [
                    "ì§‘ì—ì„œ ì±…, ìŒì•…",
                    "ë°©ì—ì„œ ì‰¬ì–´ìš”",
                    "ì‚°ì±…ì´ë‚˜ ë„·í”Œë¦­ìŠ¤",
                    "ì¹œêµ¬ ë§Œë‚˜ ë†€ì•„ìš”",
                    "ë°–ì—ì„œ í™œë™ ë§ì´ í•´ìš”"
                ]
            },
            {
                q: "ì–´ë–¤ ì‚¬ëŒ ë˜ê³  ì‹¶ì–´ìš”?",
                choices: [
                    "ê°ì„± ë„˜ì¹˜ëŠ” ì‚¬ëŒ",
                    "ë‹¤ì •í•œ ì‚¬ëŒ",
                    "ê³µê° ì˜í•˜ëŠ” ì‚¬ëŒ",
                    "ë“ ë“ í•œ ì‚¬ëŒ",
                    "ë©‹ì§€ê³  ë˜‘ ë¶€ëŸ¬ì§„ ì‚¬ëŒ"
                ]
            },
            {
                q: "ì‹¸ì›€ ë‚˜ë©´ ë‚˜ëŠ”?",
                choices: [
                    "ë¨¼ì € ë¯¸ì•ˆí•˜ë‹¤ê³  í•´ìš”",
                    "ê·¸ëƒ¥ í”¼í•˜ë ¤ê³  í•´ìš”",
                    "ì„œë¡œ ë§ ë§ì¶°ìš”",
                    "ë¬¸ì œë¥¼ ë§ë¡œ í’€ì–´ìš”",
                    "ë°”ë¡œ ë¬¸ì œ ì§€ì í•´ìš”"
                ]
            },
            {
                q: "ì´ìƒí˜•ì€?",
                choices: [
                    "ê°ì„±ì ì¸ ì‚¬ëŒ",
                    "ì°©í•˜ê³  ë‹¤ì •í•œ ì‚¬ëŒ",
                    "ì–˜ê¸° ì˜ í†µí•˜ëŠ” ì‚¬ëŒ",
                    "ë˜‘ë˜‘í•˜ê³  ë‹¹ì°¬ ì‚¬ëŒ",
                    "ì†”ì§í•˜ê³  ë¦¬ë“œí•˜ëŠ” ì‚¬ëŒ"
                ]
            },
            {
                q: "ìƒˆë¡œìš´ ì¼ ë§¡ìœ¼ë©´?",
                choices: [
                    "ê±±ì •ë¶€í„° ë¼ìš”",
                    "ì²œì²œíˆ ì ì‘í•´ìš”",
                    "ê³„íš ì„¸ì›Œì„œ í•´ìš”",
                    "ë°”ë¡œ ì‹œì‘í•´ìš”",
                    "ë‚´ê°€ ë¨¼ì € ì´ëŒì–´ìš”"
                ]
            },
            {
                q: "ë‚¯ì„  ê³³ì— ê°€ë©´?",
                choices: [
                    "ê¸´ì¥ë¼ìš”",
                    "ì ì‘í•˜ë ¤ ë…¸ë ¥í•´ìš”",
                    "ì¢€ ë¶ˆí¸í•˜ì§€ë§Œ í•´ìš”",
                    "ê¸ˆë°© ìµìˆ™í•´ì ¸ìš”",
                    "ì „í˜€ ë¬¸ì œ ì—†ì–´ìš”"
                ]
            },
            {
                q: "SNS ìŠ¤íƒ€ì¼ì€?",
                choices: [
                    "ê¸€Â·ê°ì„± ì‚¬ì§„ ì˜¬ë ¤ìš”",
                    "ë³´ê¸°ë§Œ í•´ìš”",
                    "ê°€ë” ì˜¬ë ¤ìš”",
                    "í™œë™ ë§ì´ í•´ìš”",
                    "ê±°ì˜ ì•ˆ ì¨ìš”"
                ]
            },
            {
                q: "ì œì¼ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ëŠ” ê±´?",
                choices: [
                    "ë§ˆìŒê³¼ ê°ì •",
                    "ë”°ëœ»í•œ ë¶„ìœ„ê¸°",
                    "ì„œë¡œ ë°°ë ¤í•˜ëŠ” ê±°",
                    "ì‹¤ìš©ì„±ê³¼ ê²°ê³¼",
                    "ëª©í‘œë‘ ì„±ê³¼"
                ]
            },
            {
                q: "ë‚´ ì„±ê²©ì€ ì–´ë–¤ í¸?",
                choices: [
                    "ê°ì„± ìœ„ì£¼ì˜ˆìš”",
                    "ë°°ë ¤ ë§ì´ í•´ìš”",
                    "ìƒí™© ë”°ë¼ ë‹¬ë¼ìš”",
                    "ë°”ë¡œ í–‰ë™í•´ìš”",
                    "ë‚´ê°€ ì´ëŒì–´ìš”"
                ]
            }
        ];

        // ê²°ê³¼ ë°ì´í„° (ë‚˜ë¬´ìœ„í‚¤ ê¸°ë°˜ ì •í™•í•œ ì •ë³´)
        const results = {
            'teto-male': {
                type: "í…Œí† ë‚¨",
                subtitle: "í™œë°œí•˜ê³  ì£¼ë„ì ì¸ ë‚¨ì„± â˜€ï¸",
                image: "images/result-teto-male.png",
                desc: "ë‹¹ì‹ ì€ í…Œí† ë‚¨ì´ì—ìš”! ê³µê²©ì„±ê³¼ ì‚¬ëƒ¥ ë³¸ëŠ¥ì´ ê°•í•˜ê³  ìê¸°ì£¼ì¥ì´ ê°•í•˜ë©° ë¦¬ë”ì‹­ì´ ìˆì–´ìš”.",
                features: ["ê°•í•œ ë¦¬ë”ì‹­", "ë…¼ë¦¬ì  ì‚¬ê³ ", "í˜„ì‹¤ ì§€í–¥ì ", "í™œë™ì  ì„±í–¥", "ì§ì„¤ì  í‘œí˜„"],
                detailedDesc: "í…Œí† ë‚¨ì€ ì „í˜•ì ì¸ ë‚¨ì„±ì  íŠ¹ì„±ì„ ê°•í•˜ê²Œ ë³´ì´ëŠ” ìœ í˜•ì…ë‹ˆë‹¤. ê°ì •ë³´ë‹¤ ë…¼ë¦¬ë¥¼ ìš°ì„ ì‹œí•˜ë©°, ì™¸ë¶€ ì„¸ê³„ì¸ ì •ì¹˜, ì‚¬íšŒì  ì§€ìœ„, ëª…ì˜ˆì— ê´€ì‹¬ì´ ë§ìŠµë‹ˆë‹¤. ë¶„ì„í•˜ê³  íŒë‹¨í•˜ëŠ” ê²ƒì„ ì¢‹ì•„í•˜ë©° í˜„ì‹¤ ì§€í–¥ì ì¸ ì„±í–¥ì„ ë³´ì…ë‹ˆë‹¤. ì—°ì• ì—ì„œëŠ” ê°ì •ì  í‘œí˜„ë³´ë‹¤ëŠ” í–‰ë™ìœ¼ë¡œ í‘œí˜„í•˜ëŠ” ê²ƒì„ ì„ í˜¸í•˜ê³ , ì§ì ‘ì ì¸ ëŒ€ì‹œë¥¼ í•˜ëŠ” í¸ì…ë‹ˆë‹¤. íŒ¨ì…˜ì´ë‚˜ ë¯¸ìš©ì—ëŠ” í° ê´€ì‹¬ì´ ì—†ìœ¼ë©°, ê°„ê²°í•˜ê³  í´ë˜ì‹í•œ ìŠ¤íƒ€ì¼ì„ ì„ í˜¸í•©ë‹ˆë‹¤. ê°€ë§Œíˆ ìˆëŠ” ê²ƒì„ ëª» ì°¸ëŠ” ì„±ê²©ìœ¼ë¡œ í™œë™ëŸ‰ì´ ë§ê³ , ë¬¸ì œê°€ ìƒê¸°ë©´ ì •ë©´ìœ¼ë¡œ ë§ì„œì„œ í•´ê²°í•˜ë ¤ëŠ” ê²½í–¥ì´ ê°•í•©ë‹ˆë‹¤.",
                loveCompatibility: {
                    good: {
                        type: "ì—ê²ë…€",
                        reason: "í…Œí† ë‚¨ì˜ ê°•í•œ ë¦¬ë”ì‹­ê³¼ ì—ê²ë…€ì˜ ìˆœì¢…ì  ì„±í–¥ì´ ì˜ ë§ì•„ ì•ˆì •ì ì¸ ê´€ê³„ë¥¼ í˜•ì„±í•©ë‹ˆë‹¤. ì„œë¡œ ë‹¤ë¥¸ ì„±í–¥ì´ ë³´ì™„ì ìœ¼ë¡œ ì‘ìš©í•´ìš”."
                    },
                    bad: {
                        type: "í…Œí† ë…€",
                        reason: "ë‘˜ ë‹¤ ì£¼ë„ê¶Œì„ ì¡ìœ¼ë ¤ í•˜ëŠ” ì„±í–¥ì´ ê°•í•´ ê°ˆë“±ì´ ìƒê¸°ê¸° ì‰½ìŠµë‹ˆë‹¤. ì„œë¡œ ì–‘ë³´í•˜ì§€ ì•Šìœ¼ë ¤ëŠ” ê²½í–¥ìœ¼ë¡œ ê´€ê³„ê°€ ì–´ë ¤ìš¸ ìˆ˜ ìˆì–´ìš”."
                    }
                }
            },
            'egen-male': {
                type: "ì—ê²ë‚¨",
                subtitle: "ê°ì„±ì ì´ê³  ì„¬ì„¸í•œ ë‚¨ì„± ğŸŒ™",
                image: "images/result-egen-male.png",
                desc: "ë‹¹ì‹ ì€ ì—ê²ë‚¨ì´ì—ìš”! ê°ìˆ˜ì„±ê³¼ ì„¬ì„¸í•¨ì´ ë“œëŸ¬ë‚˜ë©° ì˜ˆë¯¼í•œ í¸ì…ë‹ˆë‹¤.",
                features: ["ë†’ì€ ê°ìˆ˜ì„±", "ì˜ˆìˆ ì  ê°ê°", "ë‚´ë©´ ì§€í–¥ì ", "ì„¬ì„¸í•œ ì†Œí†µ", "íŠ¸ë Œë“œ ë¯¼ê°"],
                detailedDesc: "ì—ê²ë‚¨ì€ ì „í†µì ì¸ ë‚¨ì„±ìƒê³¼ëŠ” ë‹¤ë¥¸ ê°ì„±ì ì´ê³  ì„¬ì„¸í•œ íŠ¹ì„±ì„ ë³´ì´ëŠ” ìœ í˜•ì…ë‹ˆë‹¤. ì¶”ìƒì ì¸ ê°œë…ì¸ ì˜ˆìˆ , ì² í•™, ë¬¸í•™ì— í¥ë¯¸ê°€ ë§ê³  ë‚´ë©´ ì§€í–¥ì ì¸ ì„±í–¥ì„ ë³´ì…ë‹ˆë‹¤. ì—°ì• ì—ì„œëŠ” ìˆ˜ë™ì ì¸ ê²½í–¥ì´ ìˆìœ¼ë©°, ì§ì ‘ ëŒ€ì‹œí•˜ê¸°ë³´ë‹¤ëŠ” ë°›ëŠ” ìª½ì´ í¸í•©ë‹ˆë‹¤. ì„¬ì„¸í•˜ê³  ê³µê°ì ì¸ êµë¥˜ë¥¼ ì¤‘ì‹œí•˜ë©° ê°ì„±ì  ì†Œí†µì— ëŠ¥í•©ë‹ˆë‹¤. íŠ¸ë Œë“œì— ë¯¼ê°í•˜ê³  ë¯¸ì  ê°ê°ì´ ë›°ì–´ë‚˜ë©°, SNSë¥¼ ê¾¸ë¯¸ëŠ” ë° ìµìˆ™í•©ë‹ˆë‹¤. í˜¼ìë§Œì˜ ì‹œê°„ì„ ì¤‘ìš”í•˜ê²Œ ì—¬ê¸°ë©° ì •ì ì¸ í™œë™ì„ ì„ í˜¸í•©ë‹ˆë‹¤. ë•Œë¡œëŠ” ì „í†µì ì¸ ë‚¨ì„±ì  ë‚¨ì„±ìƒì— ëŒ€í•´ ë¶€ëŸ¬ì›€ì„ ëŠë¼ê¸°ë„ í•©ë‹ˆë‹¤.",
                loveCompatibility: {
                    good: {
                        type: "í…Œí† ë…€",
                        reason: "í…Œí† ë…€ì˜ ì ê·¹ì ì´ê³  ì£¼ë„ì ì¸ ì„±í–¥ì´ ì—ê²ë‚¨ì˜ ìˆ˜ë™ì  ì„±í–¥ê³¼ ì˜ ë§ì•„ ê· í˜•ì¡íŒ ê´€ê³„ë¥¼ ë§Œë“­ë‹ˆë‹¤. ì„œë¡œì˜ ë¶€ì¡±í•œ ë¶€ë¶„ì„ ì±„ì›Œì¤˜ìš”."
                    },
                    bad: {
                        type: "ì—ê²ë…€",
                        reason: "ë‘˜ ë‹¤ ìˆ˜ë™ì ì´ê³  ì†Œê·¹ì ì¸ ì„±í–¥ìœ¼ë¡œ ê´€ê³„ ë°œì „ì´ ì–´ë µìŠµë‹ˆë‹¤. ì„œë¡œ ë¨¼ì € ë‚˜ì„œì§€ ì•Šìœ¼ë ¤ í•´ì„œ ë‹µë‹µí•¨ì„ ëŠë‚„ ìˆ˜ ìˆì–´ìš”."
                    }
                }
            },
            'teto-female': {
                type: "í…Œí† ë…€",
                subtitle: "í™œê¸°ì°¨ê³  ë…ë¦½ì ì¸ ì—¬ì„± âš¡",
                image: "images/result-teto-female.png",
                desc: "ë‹¹ì‹ ì€ í…Œí† ë…€ì˜ˆìš”! í™œë°œí•˜ê³  ì ê·¹ì ì´ë©° ë„ì „ì ì¸ íƒœë„ë¥¼ ì§€ë…€ìš”.",
                features: ["ê°•í•œ ë…ë¦½ì‹¬", "ì ê·¹ì  ì„±í–¥", "ì»¤ë¦¬ì–´ ì¤‘ì‹¬", "ì§ì„¤ì  í‘œí˜„", "í™œë™ì  ë¼ì´í”„"],
                detailedDesc: "í…Œí† ë…€ëŠ” ì „í†µì ì¸ ì—¬ì„±ìƒê³¼ëŠ” ë‹¤ë¥¸ í™œë°œí•˜ê³  ë…ë¦½ì ì¸ íŠ¹ì„±ì„ ë³´ì´ëŠ” ìœ í˜•ì…ë‹ˆë‹¤. ë…ë¦½ì‹¬ì´ ê°•í•˜ê³  ë‹¤ì†Œ ë‹¨ìˆœí•œ ì‚¬ê³  êµ¬ì¡°ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìœ¼ë©°, ê°ì •ë³´ë‹¤ëŠ” ìƒí™©ì„ ë¹ ë¥´ê²Œ íŒë‹¨í•˜ëŠ” ê²½í–¥ì´ ìˆìŠµë‹ˆë‹¤. ì„±ì·¨ë‚˜ ì»¤ë¦¬ì–´ ì¤‘ì‹¬ì ì¸ ì‚¬ê³ ë¥¼ í•˜ëŠ” ê²½ìš°ê°€ ë§ìœ¼ë©°, ë•Œë¡œëŠ” ì—°ì• ë³´ë‹¤ ì¼ì— ëª°ì…í•˜ëŠ” ì‹œê¸°ë„ ìˆìŠµë‹ˆë‹¤. í˜¸ê° ìˆëŠ” ì´ì„±ì—ê²Œ ë¨¼ì € ëŒ€ì‹œí•˜ëŠ” ê²ƒì„ ì–´ë ¤ì›Œí•˜ì§€ ì•Šê³ , ê°ì • í‘œí˜„ì´ ì§ì„¤ì ì…ë‹ˆë‹¤. ìŠ¤íŠ¸ë¦¿ íŒ¨ì…˜ì´ë‚˜ í™í•œ ìŠ¤íƒ€ì¼ì„ ì˜ ì†Œí™”í•˜ë©°, ìš´ë™ì„ ì¦ê¸°ê±°ë‚˜ í™œë™ì ì¸ ì·¨ë¯¸ë¥¼ ê°€ì§„ ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤. ì´ìƒí˜•ìœ¼ë¡œëŠ” ë‚¨ì„±ì ì¸ ë‚¨ìë¥¼ ì„ í˜¸í•˜ëŠ” ê²½í–¥ì´ ìˆìŠµë‹ˆë‹¤.",
                loveCompatibility: {
                    good: {
                        type: "ì—ê²ë‚¨",
                        reason: "í…Œí† ë…€ì˜ ì£¼ë„ì  ì„±í–¥ê³¼ ì—ê²ë‚¨ì˜ ìˆ˜ìš©ì  ì„±í–¥ì´ ì¡°í™”ë¥¼ ì´ë¤„ ì•ˆì •ì ì¸ ê´€ê³„ë¥¼ í˜•ì„±í•©ë‹ˆë‹¤. ì—­í•  ë¶„ë‹´ì´ ìì—°ìŠ¤ëŸ½ê²Œ ì´ë¤„ì ¸ìš”."
                    },
                    bad: {
                        type: "í…Œí† ë‚¨",
                        reason: "ë‘˜ ë‹¤ ì£¼ë„ê¶Œì„ ì¡ìœ¼ë ¤ëŠ” ì„±í–¥ì´ ê°•í•´ ì¶©ëŒì´ ì¦ìŠµë‹ˆë‹¤. ì„œë¡œ ìì‹ ì˜ ë°©ì‹ì„ ê³ ì§‘í•˜ë ¤ í•´ì„œ íƒ€í˜‘ì´ ì–´ë ¤ìš¸ ìˆ˜ ìˆì–´ìš”."
                    }
                }
            },
            'egen-female': {
                type: "ì—ê²ë…€",
                subtitle: "ë¶€ë“œëŸ½ê³  ê°ì„±ì ì¸ ì—¬ì„± ğŸŒ¸",
                image: "images/result-egen-female.png",
                desc: "ë‹¹ì‹ ì€ ì—ê²ë…€ì˜ˆìš”! ì£¼ì¥ì´ë‚˜ ê¸°ê°€ ê°•í•œ í¸ì€ ì•„ë‹ˆë©° ë‹¤ì†Œ ê²ì´ ë§ê³  ìê¸° ìì‹ ì— ëŒ€í•´ ìì£¼ ê³ ë¯¼í•´ìš”.",
                features: ["ë†’ì€ ê³µê°ëŠ¥ë ¥", "ì„¬ì„¸í•œ ê°ì„±", "ì˜ˆìˆ ì  ì·¨í–¥", "ì•ˆì • ì¶”êµ¬", "ì—¬ì„±ìŠ¤ëŸ¬ìš´ ë§¤ë ¥"],
                detailedDesc: "ì—ê²ë…€ëŠ” ì „í†µì ì¸ ì—¬ì„±ìƒì— ê°€ê¹Œìš´ ë¶€ë“œëŸ½ê³  ê°ì„±ì ì¸ íŠ¹ì„±ì„ ë³´ì´ëŠ” ìœ í˜•ì…ë‹ˆë‹¤. ì£¼ì¥ì´ë‚˜ ê¸°ê°€ ê°•í•œ í¸ì€ ì•„ë‹ˆë©°, ë‹¤ì†Œ ê²ì´ ë§ê³  ìê¸° ìì‹ ì— ëŒ€í•´ ìì£¼ ê³ ë¯¼í•©ë‹ˆë‹¤. ë³µì¡í•œ ë‚´ë©´ êµ¬ì¡°ë¥¼ ì§€ë‹ˆê³  ìˆìœ¼ë©°, íƒ€ì¸ì˜ ê°ì •ì— ë¯¼ê°í•˜ê²Œ ë°˜ì‘í•˜ê³  ê³µê° ëŠ¥ë ¥ì´ ë†’ìŠµë‹ˆë‹¤. ì—°ì• ì—ì„œëŠ” ë¨¼ì € ë‹¤ê°€ê°€ê¸°ë³´ë‹¤ëŠ” ìƒëŒ€ì˜ ëŒ€ì‹œë¥¼ ë°›ìœ¼ë©´ ê´€ê³„ê°€ ì‹œì‘ë˜ëŠ” ê²½ìš°ê°€ ë§ìœ¼ë©°, ê°ì„±ì  ìœ ëŒ€ì™€ ì•ˆì •ê°ì„ ì¤‘ìš”í•˜ê²Œ ì—¬ê¹ë‹ˆë‹¤. ë¶€ë“œëŸ½ê³  ì •ì ì¸ ë¶„ìœ„ê¸°ë¥¼ ê°€ì§€ë©°, ì—¬ì„±ìŠ¤ëŸ½ê³  í´ë˜ì‹í•œ ìŠ¤íƒ€ì¼ì´ ìì—°ìŠ¤ëŸ½ê²Œ ì–´ìš¸ë¦½ë‹ˆë‹¤. ê°ê°ì´ ìˆëŠ” ê²½ìš° ì˜ˆìˆ , ë¬¸í•™, ë””ìì¸ ë“± ì°½ì˜ì  ë¶„ì•¼ì— ê¹Šì€ ëª°ì…ì„ ë³´ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
                loveCompatibility: {
                    good: {
                        type: "í…Œí† ë‚¨",
                        reason: "í…Œí† ë‚¨ì˜ ê°•í•œ ë¦¬ë”ì‹­ê³¼ ì—ê²ë…€ì˜ ìˆ˜ìš©ì  ì„±í–¥ì´ ì „í†µì ì¸ ê´€ê³„ ì—­í• ê³¼ ì˜ ë§ì•„ ì¡°í™”ë¡œìš´ ê´€ê³„ë¥¼ í˜•ì„±í•©ë‹ˆë‹¤. ì„œë¡œë¥¼ ë³´ì™„í•´ì£¼ëŠ” ê´€ê³„ì˜ˆìš”."
                    },
                    bad: {
                        type: "ì—ê²ë‚¨",
                        reason: "ë‘˜ ë‹¤ ì†Œê·¹ì ì´ê³  ìˆ˜ë™ì ì¸ ì„±í–¥ìœ¼ë¡œ ê´€ê³„ ì§„ì „ì´ ë§¤ìš° ëŠë¦½ë‹ˆë‹¤. ì„œë¡œ ê¸°ë‹¤ë¦¬ê¸°ë§Œ í•´ì„œ ë°œì „ì´ ì–´ë ¤ìš¸ ìˆ˜ ìˆì–´ìš”."
                    }
                }
            },
            // íŠ¹ë³„ ìºë¦­í„°ë“¤ (90~100% ë‹¬ì„± ì‹œ)
            'teto-male2': {
                type: "ê·¹í…Œí† ë‚¨",
                subtitle: "ë‹¹ì‹ ì€ 10%ì˜ ê·¹í…Œí† ë‚¨ì…ë‹ˆë‹¤! ğŸ”¥",
                image: "images/result-teto-male2.png",
                desc: "ì¶•í•˜í•©ë‹ˆë‹¤! ë‹¹ì‹ ì€ ë§¤ìš° í¬ê·€í•œ ê·¹í…Œí† ë‚¨ ì„±í–¥ì…ë‹ˆë‹¤. ê·¹ë„ë¡œ ê°•í•œ ë¦¬ë”ì‹­ê³¼ ì¶”ì§„ë ¥ì„ ê°€ì§„ ì§„ì •í•œ ì•ŒíŒŒí˜• ì¸ê°„ì´ì—ìš”.",
                features: ["ì ˆëŒ€ì  ë¦¬ë”ì‹­", "ê·¹ê°• ì¶”ì§„ë ¥", "ì™„ë²½í•œ ë…¼ë¦¬ì„±", "ì „ëµì  ì²œì¬ì„±", "ì••ë„ì  ì¹´ë¦¬ìŠ¤ë§ˆ"],
                detailedDesc: "ê·¹í…Œí† ë‚¨ì€ ì „ì²´ ì¸êµ¬ì˜ 10%ì— í•´ë‹¹í•˜ëŠ” ë§¤ìš° í¬ê·€í•œ ì„±í–¥ì…ë‹ˆë‹¤. íƒ€ê³ ë‚œ ë¦¬ë”ë¡œì„œ ì–´ë–¤ ìƒí™©ì—ì„œë„ ì£¼ë„ê¶Œì„ ì¡ìœ¼ë©°, ê°ì •ë³´ë‹¤ ë…¼ë¦¬ë¥¼ ê·¹ë„ë¡œ ìš°ì„ ì‹œí•©ë‹ˆë‹¤. ëª©í‘œ ë‹¬ì„±ì„ ìœ„í•´ì„œëŠ” ìˆ˜ë‹¨ê³¼ ë°©ë²•ì„ ê°€ë¦¬ì§€ ì•ŠëŠ” ê°•ì¸í•œ ì •ì‹ ë ¥ì„ ê°€ì§€ê³  ìˆìœ¼ë©°, ë‹¤ë¥¸ ì‚¬ëŒë“¤ì´ ë”°ë¼ì˜¤ê¸° í˜ë“¤ ì •ë„ì˜ ì¶”ì§„ë ¥ê³¼ ê²°ë‹¨ë ¥ì„ ë³´ì…ë‹ˆë‹¤. ì—°ì• ì—ì„œë„ ê·¹ë„ë¡œ ì§ì„¤ì ì´ê³  ì£¼ë„ì ì´ë©°, ìƒëŒ€ë°©ì„ ì™„ì „íˆ ë¦¬ë“œí•˜ë ¤ëŠ” ì„±í–¥ì´ ê°•í•©ë‹ˆë‹¤.",
                loveCompatibility: {
                    good: { type: "ì—ê²ë…€", reason: "ê·¹ë‹¨ì  ëŒ€ë¹„ë¡œ ì™„ë²½í•œ ê· í˜•" },
                    bad: { type: "í…Œí† ë…€", reason: "ë‘ ê°•ìì˜ ê²©ë ¬í•œ ì¶©ëŒ" }
                }
            },
            'egen-male2': {
                type: "ê·¹ì—ê²ë‚¨",
                subtitle: "ë‹¹ì‹ ì€ 10%ì˜ ê·¹ì—ê²ë‚¨ì…ë‹ˆë‹¤! ğŸ¨",
                image: "images/result-egen-male2.png",
                desc: "ì¶•í•˜í•©ë‹ˆë‹¤! ë‹¹ì‹ ì€ ë§¤ìš° í¬ê·€í•œ ê·¹ì—ê²ë‚¨ ì„±í–¥ì…ë‹ˆë‹¤. ê·¹ë„ë¡œ ì„¬ì„¸í•œ ê°ìˆ˜ì„±ê³¼ ì˜ˆìˆ ì  ê°ê°ì„ ê°€ì§„ ì§„ì •í•œ ê°ì„±í˜• ì¸ê°„ì´ì—ìš”.",
                features: ["ê·¹í•œì˜ ê°ìˆ˜ì„±", "ì˜ˆìˆ ì  ì²œì¬ì„±", "ì´ˆì›”ì  ë‚´ë©´ì„±", "ì™„ë²½í•œ ê³µê°ëŠ¥ë ¥", "ë…ì°½ì  ì‚¬ê³ ë ¥"],
                detailedDesc: "ê·¹ì—ê²ë‚¨ì€ ì „ì²´ ì¸êµ¬ì˜ 10%ì— í•´ë‹¹í•˜ëŠ” ë§¤ìš° í¬ê·€í•œ ì„±í–¥ì…ë‹ˆë‹¤. ê°ì •ê³¼ ì§ê°ì„ ê·¹ë„ë¡œ ì¤‘ì‹œí•˜ë©°, ì˜ˆìˆ ê³¼ ë¯¸í•™ì— ëŒ€í•œ íƒ€ê³ ë‚œ ê°ê°ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ë‹¤ë¥¸ ì‚¬ëŒì˜ ê°ì •ì„ ë§ˆì¹˜ ìì‹ ì˜ ê²ƒì²˜ëŸ¼ ëŠë‚„ ìˆ˜ ìˆì„ ì •ë„ë¡œ ê³µê°ëŠ¥ë ¥ì´ ë›°ì–´ë‚˜ë©°, ë‚´ë©´ì˜ ì„¸ê³„ê°€ ê·¹ë„ë¡œ ë³µì¡í•˜ê³  í’ë¶€í•©ë‹ˆë‹¤. ì—°ì• ì—ì„œëŠ” ê·¹ë„ë¡œ ë¡œë§¨í‹±í•˜ê³  ê°ì„±ì ì´ë©°, ìƒëŒ€ë°©ì˜ ë§ˆìŒì„ ì„¸ì‹¬í•˜ê²Œ ì½ì–´ë‚´ëŠ” ëŠ¥ë ¥ì´ íƒì›”í•©ë‹ˆë‹¤.",
                loveCompatibility: {
                    good: { type: "í…Œí† ë…€", reason: "ê·¹ë‹¨ì  ëŒ€ë¹„ë¡œ ì™„ë²½í•œ ê· í˜•" },
                    bad: { type: "ì—ê²ë…€", reason: "ë‘ ê°ì„±ì˜ ê³¼ë„í•œ ì¶©ëŒ" }
                }
            },
            'teto-female2': {
                type: "ê·¹í…Œí† ë…€",
                subtitle: "ë‹¹ì‹ ì€ 10%ì˜ ê·¹í…Œí† ë…€ì…ë‹ˆë‹¤! âš¡",
                image: "images/result-teto-female2.png",
                desc: "ì¶•í•˜í•©ë‹ˆë‹¤! ë‹¹ì‹ ì€ ë§¤ìš° í¬ê·€í•œ ê·¹í…Œí† ë…€ ì„±í–¥ì…ë‹ˆë‹¤. ê·¹ë„ë¡œ ê°•í•œ ë…ë¦½ì„±ê³¼ ì£¼ë„ë ¥ì„ ê°€ì§„ ì§„ì •í•œ ì—¬ì „ì‚¬í˜• ì¸ê°„ì´ì—ìš”.",
                features: ["ì ˆëŒ€ì  ë…ë¦½ì„±", "ê·¹ê°• ë¦¬ë”ì‹­", "ì™„ë²½í•œ ì£¼ë„ë ¥", "ì „ëµì  ì²œì¬ì„±", "í˜ì‹ ì  ì‚¬ê³ ë ¥"],
                detailedDesc: "ê·¹í…Œí† ë…€ëŠ” ì „ì²´ ì¸êµ¬ì˜ 10%ì— í•´ë‹¹í•˜ëŠ” ë§¤ìš° í¬ê·€í•œ ì„±í–¥ì…ë‹ˆë‹¤. ì „í†µì ì¸ ì—¬ì„±ìƒì„ ì™„ì „íˆ ë›°ì–´ë„˜ì–´ ê·¹ë„ë¡œ ë…ë¦½ì ì´ê³  ì£¼ë„ì ì…ë‹ˆë‹¤. ì»¤ë¦¬ì–´ì™€ ì„±ì·¨ë¥¼ ìµœìš°ì„ ìœ¼ë¡œ í•˜ë©°, ì–´ë–¤ ìƒí™©ì—ì„œë„ ìì‹ ì˜ ê¸¸ì„ ê°œì²™í•´ ë‚˜ê°€ëŠ” ê°•ì¸í•¨ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì—°ì• ì—ì„œë„ ê·¹ë„ë¡œ ì ê·¹ì ì´ê³  ì£¼ë„ì ì´ë©°, ìƒëŒ€ë°©ë³´ë‹¤ ìì‹ ì´ ê´€ê³„ë¥¼ ì´ëŒì–´ê°€ë ¤ëŠ” ì„±í–¥ì´ ë§¤ìš° ê°•í•©ë‹ˆë‹¤.",
                loveCompatibility: {
                    good: { type: "ì—ê²ë‚¨", reason: "ê·¹ë‹¨ì  ëŒ€ë¹„ë¡œ ì™„ë²½í•œ ê· í˜•" },
                    bad: { type: "í…Œí† ë‚¨", reason: "ë‘ ê°•ìì˜ ê²©ë ¬í•œ ì¶©ëŒ" }
                }
            },
            'egen-female2': {
                type: "ê·¹ì—ê²ë…€",
                subtitle: "ë‹¹ì‹ ì€ 10%ì˜ ê·¹ì—ê²ë…€ì…ë‹ˆë‹¤! ğŸŒ¸",
                image: "images/result-egen-female2.png",
                desc: "ì¶•í•˜í•©ë‹ˆë‹¤! ë‹¹ì‹ ì€ ë§¤ìš° í¬ê·€í•œ ê·¹ì—ê²ë…€ ì„±í–¥ì…ë‹ˆë‹¤. ê·¹ë„ë¡œ ì„¬ì„¸í•œ ê°ì„±ê³¼ ì—¬ì„±ìŠ¤ëŸ¬ìš´ ë§¤ë ¥ì„ ê°€ì§„ ì§„ì •í•œ ê³µì£¼í˜• ì¸ê°„ì´ì—ìš”.",
                features: ["ê·¹í•œì˜ ê°ìˆ˜ì„±", "ì™„ë²½í•œ ì˜ˆìˆ ì„±", "ì´ˆì›”ì  ë‚´ë©´ì„±", "ìµœê³ ì˜ ê³µê°ëŠ¥ë ¥", "ì™„ë²½í•œ ì—¬ì„±ì„±"],
                detailedDesc: "ê·¹ì—ê²ë…€ëŠ” ì „ì²´ ì¸êµ¬ì˜ 10%ì— í•´ë‹¹í•˜ëŠ” ë§¤ìš° í¬ê·€í•œ ì„±í–¥ì…ë‹ˆë‹¤. ì „í†µì ì¸ ì—¬ì„±ì„±ì„ ê·¹ëŒ€í™”í•œ í˜•íƒœë¡œ, ê·¹ë„ë¡œ ì„¬ì„¸í•˜ê³  ê°ì„±ì ì…ë‹ˆë‹¤. íƒ€ì¸ì˜ ê°ì •ì— ê·¹ë„ë¡œ ë¯¼ê°í•˜ê²Œ ë°˜ì‘í•˜ë©°, ìì‹ ë§Œì˜ ë‚´ë©´ ì„¸ê³„ê°€ ë§¤ìš° ë³µì¡í•˜ê³  ì•„ë¦„ë‹µìŠµë‹ˆë‹¤. ì˜ˆìˆ ì  ê°ê°ì´ ë›°ì–´ë‚˜ë©°, ì•„ë¦„ë‹¤ìš´ ê²ƒë“¤ì— ëŒ€í•œ ê°ìƒëŠ¥ë ¥ì´ íƒì›”í•©ë‹ˆë‹¤. ì—°ì• ì—ì„œëŠ” ê·¹ë„ë¡œ ë¡œë§¨í‹±í•˜ê³  ê°ì„±ì ì¸ ê´€ê³„ë¥¼ ì¶”êµ¬í•˜ë©°, ìƒëŒ€ë°©ì˜ ë³´í˜¸ì™€ ë°°ë ¤ë¥¼ ë°›ê³  ì‹¶ì–´í•©ë‹ˆë‹¤.",
                loveCompatibility: {
                    good: { type: "í…Œí† ë‚¨", reason: "ê·¹ë‹¨ì  ëŒ€ë¹„ë¡œ ì™„ë²½í•œ ê· í˜•" },
                    bad: { type: "ì—ê²ë‚¨", reason: "ë‘ ê°ì„±ì˜ ê³¼ë„í•œ ì¶©ëŒ" }
                }
            }
        };

        // í˜ì´ì§€ ì „í™˜
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
        }

        // ë©”ì¸ ê³ ì–‘ì´ ì´ë¯¸ì§€ ë³€ê²½ (ë” ê·€ì—¬ìš´ íš¨ê³¼)
        function changeCat() {
            const img = document.getElementById('main-cat-img');
            
            // ë”ë¸”í´ë¦­ ê°ì§€ë¥¼ ìœ„í•œ ë³€ìˆ˜
            if (!window.clickCount) window.clickCount = 0;
            window.clickCount++;
            
            // ë”ë¸”í´ë¦­ ì‹œ ê²°ê³¼ì°½ìœ¼ë¡œ ë°”ë¡œ ì´ë™ (í…ŒìŠ¤íŠ¸ìš©)
            if (window.clickCount === 2) {
                window.clickCount = 0;
                showTestResult();
                return;
            }
            
            // ë‹¨ì¼ í´ë¦­ ì‹œ ê¸°ì¡´ ë™ì‘
            setTimeout(() => {
                if (window.clickCount === 1) {
                    window.clickCount = 0;
                    
                    // í´ë¦­ íš¨ê³¼
                    img.style.transform = 'scale(0.9) rotate(-5deg)';
                    
                    setTimeout(() => {
                        try {
                            const availableImages = getAvailableImages();
                            currentCatIndex = (currentCatIndex + 1) % availableImages.length;
                            img.src = availableImages[currentCatIndex];
                        } catch (error) {
                            currentCatIndex = (currentCatIndex + 1) % mainCatImages.length;
                            img.src = mainCatImages[currentCatIndex];
                        }
                        
                        // ë°”ìš´ìŠ¤ íš¨ê³¼
                        img.style.transform = 'scale(1.1) rotate(5deg)';
                        
                        setTimeout(() => {
                            img.style.transform = 'scale(1) rotate(0deg)';
                        }, 200);
                    }, 150);
                    
                    // ê·€ì—¬ìš´ ì‚¬ìš´ë“œ íš¨ê³¼ (ì‹œê°ì  í”¼ë“œë°±)
                    showCatReaction();
                }
            }, 300);
        }
        
        // í…ŒìŠ¤íŠ¸ìš©: ëœë¤ ì„±í–¥ 80% ê²°ê³¼ í‘œì‹œ
        function showTestResult() {
            const types = ['teto', 'egen'];
            const genders = ['male', 'female'];
            
            const randomType = types[Math.floor(Math.random() * types.length)];
            const randomGender = genders[Math.floor(Math.random() * genders.length)];
            
            selectedGender = randomGender;
            const personalityType = randomType;
            
            // 80% ë‹¬ì„±ìœ¼ë¡œ íŠ¹ë³„ ìºë¦­í„° í•´ê¸ˆ
            const resultKey = `${personalityType}-${selectedGender}2`;
            unlockCharacter(resultKey);
            
            const result = results[resultKey];
            
            const resultTypeElement = document.getElementById('result-type');
            resultTypeElement.textContent = result.type;
            resultTypeElement.className = `result-type ${personalityType}`;
            resultTypeElement.style.color = '#7F6751';
            document.getElementById('result-subtitle').textContent = result.subtitle;
            document.getElementById('result-cat-img').src = result.image;
            document.getElementById('result-cat-container').className = `result-cat ${resultKey}`;
            
            // 80% í‘œì‹œ
            document.getElementById('score-percentage').textContent = '80%';
            
            setTimeout(() => {
                const gaugePointer = document.getElementById('gauge-pointer');
                if (personalityType === 'teto') {
                    gaugePointer.style.left = '80%';
                } else {
                    gaugePointer.style.left = '20%';
                }
            }, 500);
            
            // ìƒì„¸ ì •ë³´ í‘œì‹œ
            displayDetailedInfo(result);
            
            // ê²°ê³¼ í˜ì´ì§€ë¡œ ì´ë™
            showPage('result-page');
        }
        
        // í…ŒìŠ¤íŠ¸ìš©: í˜„ì¬ ìºë¦­í„°ì— ë§ëŠ” ê²°ê³¼ì°½ ë°”ë¡œ í‘œì‹œ
        function showDirectResult() {
            const img = document.getElementById('main-cat-img');
            const currentImageSrc = img.src;
            
            // í˜„ì¬ ì´ë¯¸ì§€ì— ë”°ë¼ ì„±ë³„ê³¼ íƒ€ì… ê²°ì •
            let resultKey;
            if (currentImageSrc.includes('teto-male')) {
                resultKey = 'teto-male';
                selectedGender = 'male';
            } else if (currentImageSrc.includes('egen-male')) {
                resultKey = 'egen-male';
                selectedGender = 'male';
            } else if (currentImageSrc.includes('teto-female')) {
                resultKey = 'teto-female';
                selectedGender = 'female';
            } else if (currentImageSrc.includes('egen-female')) {
                resultKey = 'egen-female';
                selectedGender = 'female';
            } else {
                // ê¸°ë³¸ê°’
                resultKey = 'teto-male';
                selectedGender = 'male';
            }
            
            // ì„ì‹œ ì ìˆ˜ ì„¤ì • (80% ë‹¬ì„±)
            const personalityType = resultKey.includes('teto') ? 'teto' : 'egen';
            totalScore = personalityType === 'teto' ? 56 : 26; // 80% ë‹¬ì„± ì ìˆ˜
            
            // ê²°ê³¼ í‘œì‹œ
            const result = results[resultKey];
            
            const resultTypeElement = document.getElementById('result-type');
            resultTypeElement.textContent = result.type;
            resultTypeElement.className = `result-type ${personalityType}`;
            resultTypeElement.style.color = '#7F6751';
            document.getElementById('result-subtitle').textContent = result.subtitle;
            document.getElementById('result-cat-img').src = result.image;
            document.getElementById('result-cat-container').className = `result-cat ${resultKey}`;
            
            // ì„±í–¥ ì ìˆ˜ ê³„ì‚° ë° í‘œì‹œ
            const averageScore = totalScore / 15; // 15ë¬¸í•­ ê¸°ì¤€
            let scorePercentage;
            if (personalityType === 'teto') {
                scorePercentage = Math.round(((averageScore - 1) / 4) * 100);
            } else {
                scorePercentage = Math.round(((5 - averageScore) / 4) * 100);
            }
            document.getElementById('score-percentage').textContent = `${scorePercentage}%`;
            
            setTimeout(() => {
                const gaugePointer = document.getElementById('gauge-pointer');
                if (personalityType === 'teto') {
                    gaugePointer.style.left = `${scorePercentage}%`;
                } else {
                    gaugePointer.style.left = `${100 - scorePercentage}%`;
                }
            }, 500);
            
            // ìƒì„¸ ì •ë³´ í‘œì‹œ
            displayDetailedInfo(result);
            
            // ê²°ê³¼ í˜ì´ì§€ë¡œ ì´ë™
            showPage('result-page');
            
            // í…ŒìŠ¤íŠ¸ìš© ì•Œë¦¼ ì œê±°
        }
        
        // ê³ ì–‘ì´ ë°˜ì‘ í‘œì‹œ
        function showCatReaction() {
            const reactions = ['â™¡', 'â˜…', 'â€»', 'â™ª', 'â—†', 'â—‡'];
            const reaction = reactions[Math.floor(Math.random() * reactions.length)];
            
            const reactionEl = document.createElement('div');
            reactionEl.textContent = reaction;
            reactionEl.style.cssText = `
                position: absolute;
                font-size: 30px;
                pointer-events: none;
                z-index: 1000;
                animation: floatUp 2s ease-out forwards;
                color: var(--teto-color);
            `;
            
            const catVisual = document.querySelector('.cat-visual');
            const rect = catVisual.getBoundingClientRect();
            reactionEl.style.left = (rect.left + rect.width/2 - 15) + 'px';
            reactionEl.style.top = (rect.top + rect.height/2 - 15) + 'px';
            
            document.body.appendChild(reactionEl);
            
            setTimeout(() => {
                if (reactionEl.parentNode) {
                    reactionEl.parentNode.removeChild(reactionEl);
                }
            }, 2000);
        }

        // ì„±ë³„ ì„ íƒ
        function selectGender(gender) {
            selectedGender = gender;
            startTest();
        }

        // í…ŒìŠ¤íŠ¸ ì‹œì‘
        function startTest() {
            if (!selectedGender) {
                alert('ì„±ë³„ì„ ë¨¼ì € ì„ íƒí•´ì£¼ì„¸ìš”!');
                return;
            }
            currentQuestion = 0;
            totalScore = 0;
            document.getElementById('total-q').textContent = questions.length;
            showPage('question-page');
            displayQuestion();
        }

        // ì§ˆë¬¸ í‘œì‹œ
        function displayQuestion() {
            if (currentQuestion < questions.length) {
                const question = questions[currentQuestion];
                
                document.getElementById('current-q').textContent = currentQuestion + 1;
                document.getElementById('question-text').textContent = question.q;
                
                // ëœë¤ ìºë¦­í„° ì´ë¯¸ì§€ ë³€ê²½
                const characterImg = document.querySelector('#character img');
                try {
                    const questionImages = getQuestionImages();
                    const randomCharacter = questionImages[Math.floor(Math.random() * questionImages.length)];
                    characterImg.src = randomCharacter;
                } catch (error) {
                    const randomCharacter = mainCatImages[Math.floor(Math.random() * mainCatImages.length)];
                    characterImg.src = randomCharacter;
                }
                
                // 5ê°œ ì„ íƒì§€ë¥¼ ëœë¤ ìˆœì„œë¡œ ì„ê¸°
                const choicesContainer = document.querySelector('.choices');
                choicesContainer.innerHTML = '';
                
                // ì„ íƒì§€ì™€ ì ìˆ˜ë¥¼ í•¨ê»˜ ë°°ì—´ë¡œ ë§Œë“¤ê¸°
                const choicesWithScores = question.choices.map((choice, index) => ({
                    text: choice,
                    score: index + 1
                }));
                
                // ë°°ì—´ì„ ëœë¤í•˜ê²Œ ì„ê¸°
                for (let i = choicesWithScores.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [choicesWithScores[i], choicesWithScores[j]] = [choicesWithScores[j], choicesWithScores[i]];
                }
                
                // ì„ì¸ ìˆœì„œë¡œ ë²„íŠ¼ ìƒì„±
                choicesWithScores.forEach((choice, index) => {
                    const button = document.createElement('button');
                    button.className = 'choice-btn';
                    button.textContent = `${index + 1}. ${choice.text}`;
                    button.onclick = () => selectAnswer(choice.score);
                    button.ondblclick = () => {
                        selectAnswer(choice.score);
                        setTimeout(() => {
                            if (currentQuestion < questions.length - 1) {
                                nextQuestion();
                            } else {
                                calculateFinalResult();
                            }
                        }, 100);
                    };
                    
                    // ì´ë¯¸ ë‹µë³€í•œ ì§ˆë¬¸ì´ë©´ ì„ íƒ ìƒíƒœ ë³µì›
                    if (userAnswers[currentQuestion] === choice.score) {
                        button.classList.add('selected');
                    }
                    
                    choicesContainer.appendChild(button);
                });
                
                // ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
                document.getElementById('prev-btn').disabled = currentQuestion === 0;
                document.getElementById('next-btn').disabled = !userAnswers[currentQuestion];
                
                // ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
                const progress = (currentQuestion / questions.length) * 100;
                document.getElementById('progress').style.width = progress + '%';
                
                // ì§ˆë¬¸ ì˜ì—­ ì• ë‹ˆë©”ì´ì…˜ ì¬ì‹œì‘
                const questionArea = document.querySelector('.question-area');
                questionArea.style.animation = 'none';
                setTimeout(() => {
                    questionArea.style.animation = 'questionFadeIn 0.6s ease-out';
                }, 10);
                
                // ìºë¦­í„° ì• ë‹ˆë©”ì´ì…˜
                const character = document.getElementById('character');
                character.style.transform = 'scale(0.9)';
                
                setTimeout(() => {
                    character.style.transform = 'scale(1)';
                }, 200);
                

            } else {
                calculateResult();
            }
        }

        // ì‚¬ìš©ì ë‹µë³€ ì €ì¥ ë°°ì—´
        let userAnswers = [];
        
        // ë‹µë³€ ì„ íƒ
        function selectAnswer(score) {
            // í˜„ì¬ ì§ˆë¬¸ì˜ ë‹µë³€ ì €ì¥
            userAnswers[currentQuestion] = score;
            
            // ë‹¤ìŒ ë²„íŠ¼ í™œì„±í™”
            document.getElementById('next-btn').disabled = false;
            
            // ì„ íƒëœ ë²„íŠ¼ í•˜ì´ë¼ì´íŠ¸
            const buttons = document.querySelectorAll('.choice-btn');
            buttons.forEach(btn => btn.classList.remove('selected'));
            event.target.classList.add('selected');
            
            // ê³ ì–‘ì´ ë°˜ì‘
            showQuestionCatReaction(score);
        }
        
        // ì´ì „ ì§ˆë¬¸
        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                displayQuestion();
            }
        }
        
        // ë‹¤ìŒ ì§ˆë¬¸
        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                displayQuestion();
            } else {
                // ë§ˆì§€ë§‰ ì§ˆë¬¸ì´ë©´ ê²°ê³¼ ê³„ì‚°
                calculateFinalResult();
            }
        }
        
        // í™ˆìœ¼ë¡œ ì´ë™
        function goHome() {
            if (confirm('í…ŒìŠ¤íŠ¸ë¥¼ ì¤‘ë‹¨í•˜ê³  í™ˆìœ¼ë¡œ ëŒì•„ê°€ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                currentQuestion = 0;
                userAnswers = [];
                selectedGender = null;
                showPage('start-page');
            }
        }
        
        // ìµœì¢… ê²°ê³¼ ê³„ì‚°
        function calculateFinalResult() {
            totalScore = userAnswers.reduce((sum, score) => sum + score, 0);
            calculateResult();
        }
        
        // ìºë¦­í„° ë°˜ì‘
        function showQuestionCatReaction(score) {
            const character = document.getElementById('character');
            
            // ìºë¦­í„° ì• ë‹ˆë©”ì´ì…˜ë§Œ ì‹¤í–‰ (ì´ë¯¸ì§€ëŠ” ë³€ê²½í•˜ì§€ ì•ŠìŒ)
            character.style.transform = 'scale(1.1)';
            
            setTimeout(() => {
                character.style.transform = 'scale(1)';
            }, 200);
        }

        // ê²°ê³¼ ê³„ì‚°
        function calculateResult() {
            // í‰ê·  ì ìˆ˜ë¡œ íŒë‹¨ (15ë¬¸í•­ * 5ì  = 75ì  ë§Œì , ì¤‘ê°„ê°’ 45ì )
            const averageScore = totalScore / questions.length;
            const personalityType = averageScore >= 3 ? 'teto' : 'egen';
            
            // ì„±í–¥ ì§€ìˆ˜ ê³„ì‚°
            let scorePercentage;
            if (personalityType === 'teto') {
                scorePercentage = Math.round(((averageScore - 1) / 4) * 100);
            } else {
                scorePercentage = Math.round(((5 - averageScore) / 4) * 100);
            }
            
            // 80~100% ë‹¬ì„± ì‹œ íŠ¹ë³„ ìºë¦­í„° í•´ê¸ˆ
            let resultKey = `${personalityType}-${selectedGender}`;
            
            if (scorePercentage >= 80) {
                const specialKey = `${personalityType}-${selectedGender}2`;
                if (results[specialKey]) {
                    resultKey = specialKey;
                    if (!isUnlocked(specialKey)) {
                        unlockCharacter(specialKey);
                        console.log('ìƒˆë¡œìš´ íŠ¹ë³„ ìºë¦­í„° í•´ê¸ˆ:', specialKey);
                    }
                }
            }
            
            const result = results[resultKey];
            
            // ê¸°ë³¸ ê²°ê³¼ í‘œì‹œ
            const resultTypeElement = document.getElementById('result-type');
            resultTypeElement.textContent = result.type;
            resultTypeElement.className = `result-type ${personalityType}`;
            resultTypeElement.style.color = '#7F6751';
            document.getElementById('result-subtitle').textContent = result.subtitle;
            document.getElementById('result-cat-img').src = result.image;
            document.getElementById('result-cat-container').className = `result-cat ${resultKey}`;

            
            // ì„±í–¥ ì ìˆ˜ í‘œì‹œ
            document.getElementById('score-percentage').textContent = `${scorePercentage}%`;
            
            setTimeout(() => {
                const gaugePointer = document.getElementById('gauge-pointer');
                if (personalityType === 'teto') {
                    gaugePointer.style.left = `${scorePercentage}%`;
                } else {
                    gaugePointer.style.left = `${100 - scorePercentage}%`;
                }
            }, 500);
            
            // ìƒì„¸ ì •ë³´ í‘œì‹œ
            displayDetailedInfo(result);
            
            showPage('result-page');
        }
        
        // ìƒì„¸ ì •ë³´ í‘œì‹œ
        function displayDetailedInfo(result) {
            // íŠ¹ì§• í‘œì‹œ
            const featuresList = document.getElementById('features-list');
            featuresList.innerHTML = result.features.map(feature => 
                `<div class="feature-item">${feature}</div>`
            ).join('');
            
            // ìƒì„¸ ì„¤ëª…
            document.getElementById('detailed-desc').textContent = result.detailedDesc;
            
            // ê¶í•© ì •ë³´
            document.getElementById('love-good-content').innerHTML = `
                <div class="match-type">${result.loveCompatibility.good.type}</div>
                <div class="match-reason">${result.loveCompatibility.good.reason}</div>
            `;
            
            document.getElementById('love-bad-content').innerHTML = `
                <div class="match-type">${result.loveCompatibility.bad.type}</div>
                <div class="match-reason">${result.loveCompatibility.bad.reason}</div>
            `;
        }

        // ê²°ê³¼ ê³µìœ 
        async function shareResult() {
            const type = document.getElementById('result-type').textContent;
            const shareText = `ë‚˜ì˜ í…Œí† -ì—ê² í…ŒìŠ¤íŠ¸ ê²°ê³¼ëŠ” "${type}"ì…ë‹ˆë‹¤! ğŸ± ë‹¹ì‹ ë„ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”!`;
            const shareUrl = window.location.href;
            
            try {
                // ìºë¦­í„° ì´ë¯¸ì§€ë¥¼ ìº”ë²„ìŠ¤ì— ê·¸ë¦¬ê³  ë¸”ë¡­ìœ¼ë¡œ ë³€í™˜
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                const img = document.getElementById('result-cat-img');
                
                canvas.width = 400;
                canvas.height = 500;
                
                // ë°°ê²½ ê·¸ë¦¬ê¸°
                ctx.fillStyle = '#FFF7E8';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // ì œëª© ê·¸ë¦¬ê¸°
                ctx.fillStyle = '#6C4F3D';
                ctx.font = 'bold 24px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('í…Œí† -ì—ê² ì„±ê²© í…ŒìŠ¤íŠ¸', canvas.width/2, 40);
                
                // ê²°ê³¼ íƒ€ì… ê·¸ë¦¬ê¸°
                ctx.font = 'bold 32px Arial';
                ctx.fillText(type, canvas.width/2, 80);
                
                // ì´ë¯¸ì§€ ê·¸ë¦¬ê¸° (ì´ë¯¸ì§€ê°€ ë¡œë“œëœ ê²½ìš°)
                if (img.complete && img.naturalHeight !== 0) {
                    const imgSize = 200;
                    const imgX = (canvas.width - imgSize) / 2;
                    const imgY = 120;
                    
                    ctx.save();
                    ctx.beginPath();
                    ctx.arc(imgX + imgSize/2, imgY + imgSize/2, imgSize/2, 0, Math.PI * 2);
                    ctx.clip();
                    ctx.drawImage(img, imgX, imgY, imgSize, imgSize);
                    ctx.restore();
                }
                
                // URL ê·¸ë¦¬ê¸°
                ctx.fillStyle = '#7F6751';
                ctx.font = '16px Arial';
                ctx.fillText(shareUrl, canvas.width/2, 450);
                
                // ìº”ë²„ìŠ¤ë¥¼ ë¸”ë¡­ìœ¼ë¡œ ë³€í™˜
                const blob = await new Promise(resolve => {
                    canvas.toBlob(resolve, 'image/png');
                });
                
                // Web Share API ì‚¬ìš©
                if (navigator.share && navigator.canShare) {
                    const shareData = {
                        title: 'í…Œí† -ì—ê² ì„±ê²© í…ŒìŠ¤íŠ¸ ê²°ê³¼',
                        text: shareText,
                        url: shareUrl,
                        files: [new File([blob], 'teto-egen-result.png', { type: 'image/png' })]
                    };
                    
                    if (navigator.canShare(shareData)) {
                        await navigator.share(shareData);
                    } else {
                        // íŒŒì¼ ê³µìœ ê°€ ì§€ì›ë˜ì§€ ì•Šìœ¼ë©´ í…ìŠ¤íŠ¸ë§Œ ê³µìœ 
                        await navigator.share({
                            title: 'í…Œí† -ì—ê² ì„±ê²© í…ŒìŠ¤íŠ¸ ê²°ê³¼',
                            text: shareText,
                            url: shareUrl
                        });
                    }
                } else {
                    // Web Share APIê°€ ì§€ì›ë˜ì§€ ì•Šìœ¼ë©´ í´ë¦½ë³´ë“œì— ë³µì‚¬
                    await navigator.clipboard.writeText(`${shareText} ${shareUrl}`);
                    alert('ê²°ê³¼ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! ì–´ë””ë“  ë¶™ì—¬ë„£ê¸° í•˜ì„¸ìš” ğŸ˜Š');
                }
            } catch (error) {
                console.error('ê³µìœ  ì˜¤ë¥˜:', error);
                // ì˜¤ë¥˜ ë°œìƒ ì‹œ ê¸°ë³¸ ê³µìœ 
                if (navigator.share) {
                    try {
                        await navigator.share({
                            title: 'í…Œí† -ì—ê² ì„±ê²© í…ŒìŠ¤íŠ¸ ê²°ê³¼',
                            text: shareText,
                            url: shareUrl
                        });
                    } catch (shareError) {
                        fallbackShare(shareText, shareUrl);
                    }
                } else {
                    fallbackShare(shareText, shareUrl);
                }
            }
        }
        
        // ëŒ€ì²´ ê³µìœ  ë°©ë²•
        function fallbackShare(shareText, shareUrl) {
            if (navigator.clipboard) {
                navigator.clipboard.writeText(`${shareText} ${shareUrl}`).then(() => {
                    alert('ê²°ê³¼ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! ì–´ë””ë“  ë¶™ì—¬ë„£ê¸° í•˜ì„¸ìš” ğŸ˜Š');
                }).catch(() => {
                    prompt('ì•„ë˜ ë‚´ìš©ì„ ë³µì‚¬í•´ì£¼ì„¸ìš”:', `${shareText} ${shareUrl}`);
                });
            } else {
                prompt('ì•„ë˜ ë‚´ìš©ì„ ë³µì‚¬í•´ì£¼ì„¸ìš”:', `${shareText} ${shareUrl}`);
            }
        }

        
        // í…ŒìŠ¤íŠ¸ ì¬ì‹œì‘
        function restartTest() {
            selectedGender = null;
            showPage('start-page');
        }

        // ì´ˆê¸°í™” ë° ì¶”ê°€ ì• ë‹ˆë©”ì´ì…˜
        document.addEventListener('DOMContentLoaded', function() {
            // í˜ì´ì§€ ë¡œë“œ ì‹œ ëœë¤ ê³ ì–‘ì´ ì´ë¯¸ì§€ ì„¤ì •
            try {
                const availableImages = getAvailableImages();
                const randomIndex = Math.floor(Math.random() * availableImages.length);
                document.getElementById('main-cat-img').src = availableImages[randomIndex];
                currentCatIndex = randomIndex;
            } catch (error) {
                const randomIndex = Math.floor(Math.random() * mainCatImages.length);
                document.getElementById('main-cat-img').src = mainCatImages[randomIndex];
                currentCatIndex = randomIndex;
            }
            
            // í˜ì´ì§€ ë¡œë“œ ì• ë‹ˆë©”ì´ì…˜
            setTimeout(() => {
                document.querySelector('.start-container').style.animation = 'fadeInUp 1s ease-out';
            }, 100);
            
            // ë§ˆìš°ìŠ¤ ë”°ë¼ë‹¤ë‹ˆëŠ” ê³ ì–‘ì´ ë°œìêµ­ íš¨ê³¼
            let mouseTrail = [];
            document.addEventListener('mousemove', function(e) {
                if (mouseTrail.length > 5) {
                    const oldTrail = mouseTrail.shift();
                    if (oldTrail.parentNode) {
                        oldTrail.parentNode.removeChild(oldTrail);
                    }
                }
                
                const paw = document.createElement('div');
                paw.textContent = 'â€¢';
                paw.style.cssText = `
                    position: fixed;
                    left: ${e.clientX - 10}px;
                    top: ${e.clientY - 10}px;
                    font-size: 16px;
                    pointer-events: none;
                    z-index: 1;
                    opacity: 0.6;
                    animation: pawFade 2s ease-out forwards;
                    color: var(--teto-color);
                `;
                
                document.body.appendChild(paw);
                mouseTrail.push(paw);
                
                setTimeout(() => {
                    if (paw.parentNode) {
                        paw.parentNode.removeChild(paw);
                    }
                }, 2000);
            });
        });
        
        // ëª¨ë‹¬ ê´€ë ¨ í•¨ìˆ˜
        function showPrivacyPolicy() {
            document.getElementById('privacy-modal').style.display = 'block';
        }
        
        function showTermsOfService() {
            document.getElementById('terms-modal').style.display = 'block';
        }
        
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }
        
        // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
        window.onclick = function(event) {
            const privacyModal = document.getElementById('privacy-modal');
            const termsModal = document.getElementById('terms-modal');
            if (event.target === privacyModal) {
                privacyModal.style.display = 'none';
            }
            if (event.target === termsModal) {
                termsModal.style.display = 'none';
            }
        }
    </script>
</body>
</html>