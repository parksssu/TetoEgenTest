<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>테토-에겐 성격 테스트</title>
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        @font-face {
            font-family: 'Hakgyoansim';
            src: url('images/Hakgyoansim Badasseugi TTF B.ttf') format('truetype');
            font-weight: bold;
            font-display: swap;
        }
    </style>
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9301049765534210" crossorigin="anonymous"></script>
    
    <style>
        :root {
            --teto-color: #E6B566;
            --egen-color: #D4A574;
            --bg-color: #faeabf;
            --text-color: #4d3205;
            --secondary-text: #4d3205;
            --box-bg: #FFFFFF;
            --button-color: #cc8359;
            --button-hover: #b8724d;
            --shadow: 0 12px 35px rgba(204, 131, 89, 0.15);
            --card-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
            --gradient-bg: #faeabf;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Hakgyoansim', 'Gowun Dodum', sans-serif;
            background: var(--gradient-bg);
            color: var(--text-color);
            min-height: 100vh;
            margin: 0;
            padding: 0;
            position: relative;
            overflow-x: hidden;
            overflow-y: scroll;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><circle cx="5" cy="5" r="1" fill="%23E6B566" opacity="0.2"/><circle cx="15" cy="5" r="0.8" fill="%23D4A574" opacity="0.15"/><circle cx="5" cy="15" r="0.9" fill="%23F2D998" opacity="0.18"/><circle cx="15" cy="15" r="1.1" fill="%23cc8359" opacity="0.12"/><circle cx="10" cy="10" r="0.7" fill="%23E6B566" opacity="0.1"/><circle cx="2" cy="10" r="0.6" fill="%23D4A574" opacity="0.08"/><circle cx="18" cy="10" r="0.8" fill="%23F2D998" opacity="0.14"/><circle cx="10" cy="2" r="0.5" fill="%23cc8359" opacity="0.1"/><circle cx="10" cy="18" r="0.9" fill="%23E6B566" opacity="0.16"/></svg>') repeat;
            pointer-events: none;
            z-index: -1;
        }

        .container {
            width: 100%;
            min-height: 100vh;
            position: relative;
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: center;
        }

        .page {
            display: none;
        }

        .page:not(#start-page) {
            padding: 50px 30px;
            text-align: center;
            min-height: 600px;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 30px;
            margin: 20px;
            box-shadow: var(--card-shadow);
        }
        
        #result-page {
            background: #FFF7E8;
            padding: 30px 20px;
        }

        .page.active {
            display: block;
        }

        /* 시작 페이지 - 매거진 스타일 */
        .start-container {
            display: flex;
            min-height: 100vh;
            align-items: center;
            justify-content: center;
            padding: 60px 40px;
            gap: 30px;
            max-width: 1000px;
            margin: 0 auto;
            position: relative;
        }

        .content-section {
            flex: 1;
            max-width: 600px;
            z-index: 2;
        }

        @media (max-width: 768px) {
            .start-container {
                flex-direction: column;
                padding: 30px 20px;
                gap: 30px;
            }
            .content-section {
                max-width: 100%;
            }
        }

        .header {
            text-align: center;
        }

        .header h1 {
            font-family: 'Hakgyoansim', 'Gowun Dodum', sans-serif;
            font-size: 90px;
            color: var(--text-color);
            font-weight: 900;
            margin-bottom: 30px;
            line-height: 0.95;
            letter-spacing: -4px;
            text-shadow: 3px 3px 0px rgba(77, 50, 5, 0.15);
            transform: scale(1.05);
        }

        .header .subtitle {
            font-family: 'Hakgyoansim', 'Gowun Dodum', sans-serif;
            font-size: 40px;
            color: var(--secondary-text);
            margin-bottom: 60px;
            font-weight: 600;
            opacity: 0.95;
            text-shadow: 1px 1px 0px rgba(77, 50, 5, 0.1);
        }

        .features {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 25px;
            margin: 35px 0;
        }

        .feature-box {
            background: rgba(255, 255, 255, 0.4);
            padding: 30px 20px;
            border-radius: 25px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
            text-align: center;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .feature-box .icon {
            font-size: 40px;
            color: var(--button-color);
            margin-bottom: 20px;
            display: block;
            filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.1));
        }

        .feature-box strong {
            font-family: 'Hakgyoansim', 'Gowun Dodum', sans-serif;
            display: block;
            font-size: 19px;
            color: var(--text-color);
            margin-bottom: 12px;
            font-weight: 600;
        }

        .feature-box span {
            font-family: 'Gowun Dodum', sans-serif;
            font-size: 14px;
            color: var(--secondary-text);
            line-height: 1.6;
            opacity: 0.8;
        }

        .start-btn {
            background: linear-gradient(135deg, var(--button-color), var(--button-hover));
            color: #FFFFFF;
            font-size: 18px;
            padding: 18px 35px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-family: 'Gowun Dodum', sans-serif;
            font-weight: 700;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 10px 35px rgba(204, 131, 89, 0.3);
            margin: 0 8px 15px 8px;
            position: relative;
            overflow: hidden;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .start-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s;
        }

        .start-btn:hover::before {
            left: 100%;
        }

        .start-btn:hover {
            background: linear-gradient(135deg, var(--button-hover), #a5633f);
            transform: translateY(-3px) scale(1.03);
            box-shadow: 0 15px 45px rgba(184, 114, 77, 0.4);
            border-color: rgba(255, 255, 255, 0.4);
        }

        .start-btn:active {
            transform: translateY(-2px) scale(1.02);
        }

        .cat-visual {
            flex: 0 0 350px;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            background: transparent;
            padding: 20px;
            min-height: 700px;
            position: relative;
            margin-left: -50px;
            z-index: 1;
        }

        .cat-visual::before {
            content: '♡';
            position: absolute;
            top: 50px;
            right: 30px;
            font-size: 28px;
            opacity: 0.6;
            animation: float 4s ease-in-out infinite;
            color: var(--teto-color);
            filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.1));
        }

        .cat-visual::after {
            content: '★';
            position: absolute;
            bottom: 80px;
            left: 40px;
            font-size: 24px;
            opacity: 0.5;
            animation: float 4s ease-in-out infinite reverse;
            color: var(--egen-color);
            filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.1));
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .cat-visual img {
            width: 150%;
            max-width: 600px;
            height: auto;
            object-fit: contain;
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            filter: drop-shadow(0 20px 60px rgba(230, 181, 102, 0.2));
            border-radius: 30px;
            position: relative;
            z-index: 2;
        }

        .cat-visual img:hover {
            transform: scale(1.05) rotate(1deg);
            filter: drop-shadow(0 25px 70px rgba(230, 181, 102, 0.4));
        }
        
        @media (max-width: 768px) {
            .cat-visual img:hover {
                transform: scale(1.05);
                box-shadow: 0 15px 40px rgba(230, 181, 102, 0.4);
            }
        }

        .cat-visual img:active {
            transform: scale(0.95);
        }





        .gender-buttons {
            display: flex;
            gap: 16px;
            justify-content: center;
        }

        .combined-section {
            background: rgba(255, 255, 255, 0.4);
            border-radius: 30px;
            padding: 45px 40px;
            margin: 30px 0;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.4);
            text-align: center;
            backdrop-filter: blur(20px);
            position: relative;
            overflow: hidden;
        }

        .combined-section .description-text {
            font-family: 'Gowun Dodum', sans-serif;
            font-size: 19px;
            color: var(--secondary-text);
            line-height: 1.8;
            margin-bottom: 40px;
            font-weight: 400;
            opacity: 0.9;
        }

        .combined-section .description-text strong {
            font-family: 'Hakgyoansim', 'Gowun Dodum', sans-serif;
            font-weight: 600;
            color: var(--text-color);
            font-size: 21px;
        }

        .combined-section h3 {
            font-family: 'Hakgyoansim', 'Gowun Dodum', sans-serif;
            font-size: 24px;
            font-weight: 500;
            margin-bottom: 30px;
            color: var(--text-color);
        }

        .combined-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--teto-color), var(--egen-color));
            border-radius: 30px 30px 0 0;
        }
        
        @media (max-width: 768px) {
            .start-container {
                flex-direction: column;
                gap: 10px;
                padding: 40px 20px;
            }
            
            .gender-buttons {
                flex-direction: column;
            }
            
            .features {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .header h1 {
                font-size: 56px;
                transform: scale(1);
                margin-bottom: 10px;
            }
            
            .header .subtitle {
                font-size: 24px;
                margin-bottom: 20px;
            }
            
            .cat-visual {
                order: -1;
                min-height: 200px;
                flex: 0 0 200px;
                display: flex;
                justify-content: center;
                align-items: center;
                margin: 0;
                padding: 10px;
                position: relative;
            }
            
            .cat-visual img {
                width: 180px;
                height: 180px;
                border-radius: 20px;
                object-fit: cover;
                object-position: top;
                background: rgba(255, 255, 255, 0.8);
                border: 2px solid #D9B88E;
                box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
                transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            }
            
            .cat-visual img:hover {
                transform: scale(1.05);
                box-shadow: 0 15px 40px rgba(230, 181, 102, 0.4);
            }
        }

        /* 질문 페이지 - 캐릭터 기반 UI */
        #question-page {
            background: linear-gradient(135deg, #FFF5D8 0%, #FFF9E6 50%, #FFF2DC 100%);
            padding: 30px 20px;
            position: relative;
            overflow: hidden;
            max-width: 800px;
            width: 100%;
        }

        /* 배경 장식 요소 */
        #question-page::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 20% 30%, rgba(230, 181, 102, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 80% 70%, rgba(212, 165, 116, 0.08) 0%, transparent 50%),
                        radial-gradient(circle at 40% 80%, rgba(242, 217, 152, 0.12) 0%, transparent 50%);
            pointer-events: none;
            animation: backgroundFloat 20s ease-in-out infinite;
        }

        @keyframes backgroundFloat {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            33% { transform: translateY(-10px) rotate(1deg); }
            66% { transform: translateY(5px) rotate(-1deg); }
        }

        .question-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .home-btn {
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid #8B4513;
            border-radius: 15px;
            padding: 10px 15px;
            font-size: 14px;
            font-weight: 600;
            color: #8B4513;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .home-btn:hover {
            background: #8B4513;
            color: white;
            transform: translateY(-2px);
        }
        
        .progress-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex: 1;
            background: rgba(255, 255, 255, 0.8);
            padding: 15px 25px;
            border-radius: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .question-number {
            font-size: 1.2rem;
            font-weight: 700;
            color: #8B4513;
            font-family: 'Hakgyoansim', sans-serif;
        }

        .progress-bar {
            width: 85%;
            height: 12px;
            background: #E0E0E0;
            border-radius: 6px;
            overflow: hidden;
            margin: 0 20px;
        }

        /* 모바일 최적화 */
        @media (max-width: 768px) {
            .page:not(#start-page) {
                padding: 20px 15px;
                margin: 10px;
            }
            
            #question-page {
                padding: 20px 15px;
            }
            
            .question-header {
                gap: 10px;
                margin-bottom: 20px;
            }
            
            .home-btn {
                padding: 8px 12px;
                font-size: 12px;
            }
            
            .progress-container {
                padding: 10px 15px;
            }
            
            .question-number {
                font-size: 1rem;
            }
            
            .progress-bar {
                width: 50%;
                margin: 0 10px;
            }
            
            .question-area {
                gap: 20px;
                margin-bottom: 20px;
            }
            
            .character {
                width: 200px;
                height: 240px;
            }
            
            .character img {
                width: 100%;
                height: 100%;
            }
            
            .speech-bubble {
                padding: 15px 20px;
                max-width: 320px;
                margin-bottom: 15px;
            }
            
            .question-title {
                font-size: 1.1rem;
            }
            
            .choice-btn {
                padding: 15px 20px;
                font-size: 0.9rem;
                max-width: 320px;
            }
            
            .navigation-buttons {
                max-width: 320px;
                gap: 15px;
            }
            
            .nav-btn {
                padding: 10px 20px;
                font-size: 14px;
            }
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, #FFD700 0%, #FFA500 50%, #FF8C00 100%);
            width: 0%;
            transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 6px;
            position: relative;
            box-shadow: 0 2px 8px rgba(255, 165, 0, 0.3);
        }

        .progress::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            border-radius: 6px;
            animation: progressShine 2s ease-in-out infinite;
        }

        @keyframes progressShine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .question-area {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
            margin-bottom: 40px;
            animation: questionFadeIn 0.6s ease-out;
        }

        @keyframes questionFadeIn {
            0% {
                opacity: 0;
                transform: translateY(20px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .character-container {
            flex-shrink: 0;
            position: relative;
            order: 2;
        }

        .character {
            width: 250px;
            height: 300px;
            background: transparent;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            animation: gentle-bounce 3s ease-in-out infinite;
        }

        .speech-bubble {
            background: linear-gradient(135deg, #ffffff 0%, #fefefe 100%);
            padding: 20px 25px;
            border-radius: 20px;
            border: 3px solid #8B4513;
            position: relative;
            box-shadow: 0 8px 25px rgba(139, 69, 19, 0.15);
            width: 100%;
            max-width: 400px;
            margin-bottom: 20px;
            order: 1;
            animation: bubblePulse 3s ease-in-out infinite;
        }

        @keyframes bubblePulse {
            0%, 100% { box-shadow: 0 8px 25px rgba(139, 69, 19, 0.15); }
            50% { box-shadow: 0 10px 30px rgba(139, 69, 19, 0.2); }
        }

        .speech-bubble::before {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-top: 15px solid #8B4513;
        }

        .speech-bubble::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 12px solid transparent;
            border-right: 12px solid transparent;
            border-top: 12px solid white;
        }

        @keyframes gentle-bounce {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
        }

        .question-title {
            font-size: 1.3rem;
            line-height: 1.5;
            color: #8B4513;
            font-weight: 600;
            font-family: 'Hakgyoansim', sans-serif;
            margin: 0;
        }

        .choices {
            display: flex;
            flex-direction: column;
            gap: 12px;
            align-items: center;
            order: 3;
            margin-bottom: 30px;
        }
        
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            gap: 20px;
            max-width: 400px;
            margin: 0 auto;
            order: 4;
        }
        
        .nav-btn {
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid #8B4513;
            border-radius: 20px;
            padding: 12px 25px;
            font-size: 16px;
            font-weight: 600;
            color: #8B4513;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            flex: 1;
        }
        
        .nav-btn:hover:not(:disabled) {
            background: #8B4513;
            color: white;
            transform: translateY(-2px);
        }
        
        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .choice-btn {
            background: linear-gradient(135deg, #ffffff 0%, #fefefe 100%);
            border: 3px solid #8B4513;
            border-radius: 25px;
            padding: 18px 25px;
            font-size: 1rem;
            font-family: 'Hakgyoansim', sans-serif;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            text-align: left;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: relative;
            color: #8B4513;
            font-weight: 500;
            max-width: 400px;
            width: 100%;
            overflow: hidden;
        }

        .choice-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 248, 225, 0.8), transparent);
            transition: left 0.6s;
        }

        .choice-btn:hover {
            transform: translateX(-10px) scale(1.02) rotate(-1deg);
            box-shadow: 0 8px 25px rgba(139, 69, 19, 0.2);
            background: linear-gradient(135deg, #FFF8E1 0%, #FFF2DC 100%);
            border-color: #A0522D;
        }

        .choice-btn:hover::before {
            left: 100%;
        }
        
        .choice-btn.selected {
            background: linear-gradient(135deg, #8B4513 0%, #A0522D 100%);
            color: white;
            border-color: #654321;
        }

        .choice-btn:active {
            transform: translateX(-5px) scale(0.98);
            transition: all 0.1s ease;
        }

        /* 결과 페이지 */
        .result-cat {
            width: 320px;
            height: 320px;
            margin: 0 auto 30px;
            border-radius: 30px;
            overflow: hidden;
            animation: celebration 1.5s ease-in-out;
            position: relative;
            box-shadow: var(--card-shadow);
        }

        .result-cat::before {
            content: '★';
            position: absolute;
            top: -15px;
            left: -15px;
            font-size: 30px;
            animation: party 2s ease-in-out infinite;
            z-index: 3;
            color: var(--teto-color);
        }

        .result-cat::after {
            content: '♡';
            position: absolute;
            top: -10px;
            right: -10px;
            font-size: 25px;
            animation: party 2s ease-in-out infinite reverse;
            z-index: 3;
            color: var(--egen-color);
        }

        @keyframes party {
            0%, 100% { transform: rotate(0deg) scale(1); }
            25% { transform: rotate(10deg) scale(1.1); }
            75% { transform: rotate(-10deg) scale(1.1); }
        }

        .result-cat img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .result-cat.teto {
            border: 5px solid var(--teto-color);
        }

        .result-cat.egen {
            border: 5px solid var(--egen-color);
        }

        @keyframes celebration {
            0% { transform: scale(0) rotate(0deg); }
            50% { transform: scale(1.1) rotate(180deg); }
            100% { transform: scale(1) rotate(360deg); }
        }

        .result-type {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .result-type.teto {
            color: var(--teto-color);
        }

        .result-type.egen {
            color: var(--egen-color);
        }

        .result-subtitle {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 20px;
        }

        .result-desc {
            font-size: 1.1rem;
            line-height: 1.8;
            text-align: left;
            background: var(--box-bg);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .share-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .share-btn {
            padding: 12px 24px;
            border: 2px solid #D9B88E;
            border-radius: 20px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-family: 'Hakgyoansim', 'Gowun Dodum', sans-serif;
            font-weight: 500;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .share-btn:hover {
            transform: translateY(-3px) scale(1.08);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .share-btn:active {
            transform: translateY(-1px) scale(1.05);
        }

        .twitter { background: #1DA1F2; color: white; }
        .facebook { background: #4267B2; color: white; }
        .kakao { background: #FEE500; color: #3C1E1E; }

        .btn {
            background: #FFE0B2;
            color: #5D4037;
            border: 2px solid #D9B88E;
            border-radius: 25px;
            padding: 18px 45px;
            font-size: 1.2rem;
            font-family: 'Hakgyoansim', 'Gowun Dodum', sans-serif;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 8px 25px rgba(217, 184, 142, 0.3);
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:hover {
            background: #FFCC80;
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 12px 35px rgba(217, 184, 142, 0.5);
            border-color: #6C4F3D;
        }

        .btn:active {
            transform: translateY(-2px) scale(1.02);
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
        }
        
        @media (max-width: 480px) {
            .action-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .btn {
                padding: 15px 30px;
                font-size: 1rem;
            }
        }



        /* 결과 카드 스타일 */
        .result-card {
            max-width: 800px;
            margin: 0 auto;
            background: #FFFFFF;
            border-radius: 20px;
            padding: 0;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 2px solid #D9B88E;
            position: relative;
            overflow: hidden;
        }
        
        /* 카드 헤더 */
        .card-header {
            background: linear-gradient(135deg, #ffffff, #fff8e8);
            padding: 25px;
            text-align: center;
            border-bottom: 2px solid #D9B88E;
        }
        
        .card-title {
            font-size: 2.2rem;
            font-weight: 900;
            color: #000000 !important;
            font-family: 'Hakgyoansim', serif;
            margin-bottom: 8px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        .card-subtitle {
            font-size: 1.1rem;
            color: #7F6751;
            font-weight: 500;
        }
        
        /* 메인 컨텐츠 */
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1.5fr;
            gap: 30px;
            padding: 30px;
        }
        
        /* 왼쪽: 캐릭터 섹션 */
        .character-section {
            text-align: center;
        }
        
        .result-cat {
            width: 320px;
            height: 320px;
            margin: 0 auto 30px;
            border-radius: 30px;
            overflow: hidden;
            animation: celebration 1.5s ease-in-out;
            position: relative;
            box-shadow: var(--card-shadow);
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }
        
        .result-cat.teto-male {
            background-image: url('images/teto-male-background.png');
            border: 5px solid var(--teto-color);
        }
        
        .result-cat.egen-male {
            background-image: url('images/egen-male-background.png');
            border: 5px solid var(--egen-color);
        }
        
        .result-cat.teto-female {
            background-image: url('images/teto-female-background.png');
            border: 5px solid var(--teto-color);
        }
        
        .result-cat.egen-female {
            background-image: url('images/egen-female-background.png');
            border: 5px solid var(--egen-color);
        }
        
        .result-cat.teto-male2 {
            background-image: url('images/teto-male2-background.png');
            border: 5px solid var(--teto-color);
        }
        
        .result-cat.egen-male2 {
            background-image: url('images/egen-male2-background.png');
            border: 5px solid var(--egen-color);
        }
        
        .result-cat.teto-female2 {
            background-image: url('images/egen-male2-background.png');
            border: 5px solid var(--teto-color);
        }
        
        .result-cat.egen-female2 {
            background-image: url('images/egen-female2-background.png');
            border: 5px solid var(--egen-color);
        }
        
        .result-cat img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        
        .character-level {
            display: inline-block;
            background: #FFE0B2;
            color: #6C4F3D;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: 700;
            font-size: 1.2rem;
            border: 2px solid #D9B88E;
            margin-bottom: 20px;
        }
        
        /* 성향 지수 */
        .stat-gauge {
            margin-top: 20px;
        }
        
        .stat-label {
            color: #6C4F3D;
            font-weight: 600;
            margin-bottom: 10px;
            font-size: 1rem;
        }
        
        .gauge-track {
            height: 14px;
            background: linear-gradient(90deg, #FFB7A1, #A8D8EA);
            border-radius: 7px;
            border: 1px solid #D9B88E;
            position: relative;
            overflow: hidden;
        }
        
        .gauge-fill {
            position: absolute;
            top: -2px;
            width: 3px;
            height: 18px;
            background: #6C4F3D;
            border-radius: 2px;
            transition: left 2s cubic-bezier(0.4, 0, 0.2, 1);
            left: 50%;
            box-shadow: 0 0 8px rgba(108, 79, 61, 0.6);
        }
        
        .gauge-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
            font-size: 0.9rem;
            color: #7F6751;
            font-weight: 600;
        }
        
        /* 오른쪽: 정보 섹션 */
        .info-section {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }
        
        .features-box, .compatibility-box {
            background: #FFF7E8;
            padding: 20px;
            border-radius: 15px;
            border: 1px solid #D9B88E;
        }
        
        .section-title {
            color: #6C4F3D;
            font-weight: 700;
            font-size: 1.2rem;
            margin-bottom: 15px;
            font-family: 'Hakgyoansim', serif;
        }
        
        /* 특성 그리드 */
        .features-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }
        
        .feature-item {
            background: #FFFFFF;
            border: 1px solid #D9B88E;
            padding: 12px 16px;
            border-radius: 10px;
            font-size: 0.9rem;
            font-weight: 600;
            color: #6C4F3D;
            text-align: center;
        }
        
        /* 궁합 카드 */
        .compatibility-cards {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .compat-card {
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            border: 2px solid;
        }
        
        .compat-card.good {
            background: linear-gradient(135deg, #F0F8F0, #F8FDF8);
            border-color: #A8D8A8;
        }
        
        .compat-card.bad {
            background: linear-gradient(135deg, #FFF5F5, #FDF0F0);
            border-color: #E8B4B4;
        }
        
        .match-type {
            font-weight: 700;
            font-size: 1rem;
            margin-bottom: 8px;
        }
        
        .compat-card.good .match-type {
            color: #5A8A5A;
        }
        
        .compat-card.bad .match-type {
            color: #B85A5A;
        }
        
        .match-reason {
            font-size: 0.85rem;
            color: #7F6751;
            line-height: 1.5;
        }
        
        /* 아래: 캐릭터 정보 */
        .description-section {
            padding: 25px 30px;
            border-top: 1px solid #D9B88E;
            background: #FFF7E8;
        }
        
        .character-desc {
            color: #7F6751;
            line-height: 1.8;
            font-size: 1rem;
        }
        
        @media (max-width: 768px) {
            .result-card {
                margin: 10px;
            }
            
            .main-content {
                grid-template-columns: 1fr;
                gap: 20px;
                padding: 20px;
            }
            
            .features-grid, .compatibility-cards {
                grid-template-columns: 1fr;
            }
            
            .result-cat {
                width: 250px;
                height: 250px;
            }
        }

        /* 반응형 */
        @media (max-width: 480px) {
            .container {
                margin: 5px;
            }
            
            .page:not(#start-page) {
                padding: 15px 10px;
                margin: 5px;
            }
            
            #question-page {
                padding: 15px 10px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .question-header {
                flex-direction: column;
                gap: 10px;
                align-items: stretch;
            }
            
            .progress-container {
                padding: 8px 12px;
            }
            
            .progress-bar {
                width: 70%;
                margin: 0 5px;
            }
            
            .speech-bubble {
                padding: 12px 15px;
                max-width: 280px;
            }
            
            .question-title {
                font-size: 1rem;
            }
            
            .choice-btn {
                padding: 12px 15px;
                font-size: 0.85rem;
                max-width: 280px;
            }
            
            .navigation-buttons {
                max-width: 280px;
                gap: 10px;
            }
            
            .nav-btn {
                padding: 8px 15px;
                font-size: 13px;
            }
            
            .result-cat {
                width: 200px;
                height: 200px;
            }
            
            .card-title {
                font-size: 1.8rem;
            }
            
            .card-subtitle {
                font-size: 1rem;
            }
            
            .character-level {
                font-size: 1rem;
                padding: 8px 15px;
            }
            
            .section-title {
                font-size: 1rem;
            }
            
            .feature-item {
                font-size: 0.8rem;
                padding: 10px 12px;
            }
            
            .match-type {
                font-size: 0.9rem;
            }
            
            .match-reason {
                font-size: 0.75rem;
            }
            
            .character-desc {
                font-size: 0.9rem;
            }
        }

        .hidden { display: none; }
        
        /* 추가 애니메이션 키프레임 */
        @keyframes floatUp {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-50px) scale(1.5);
            }
        }
        
        @keyframes bounce {
            0% {
                transform: scale(0) rotate(0deg);
                opacity: 0;
            }
            50% {
                transform: scale(1.3) rotate(180deg);
                opacity: 1;
            }
            100% {
                transform: scale(1) rotate(360deg);
                opacity: 1;
            }
        }
        
        @keyframes fadeInUp {
            0% {
                opacity: 0;
                transform: translateY(30px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes pawFade {
            0% {
                opacity: 0.6;
                transform: scale(1);
            }
            100% {
                opacity: 0;
                transform: scale(0.5);
            }
        }
        
        /* 호버 시 세련된 효과들 */
        .feature-box:hover {
            transform: translateY(-8px) scale(1.02);
            background: rgba(255, 255, 255, 0.8);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.12);
        }
        
        .feature-box:hover .icon {
            transform: scale(1.1);
            animation: wiggle 0.6s ease-in-out;
        }
        
        .feature-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transition: left 0.8s;
        }
        
        .feature-box:hover::before {
            left: 100%;
        }
        
        /* 결과 페이지 추가 장식 */
        .result-type {
            position: relative;
        }
        
        .result-type::before {
            content: '★';
            position: absolute;
            left: -40px;
            top: 50%;
            transform: translateY(-50%);
            animation: sparkle 2s ease-in-out infinite;
            color: var(--button-color);
        }
        
        .result-type::after {
            content: '★';
            position: absolute;
            right: -40px;
            top: 50%;
            transform: translateY(-50%);
            animation: sparkle 2s ease-in-out infinite reverse;
            color: var(--button-color);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 시작 페이지 -->
        <div id="start-page" class="page active">
            <div class="start-container">
                <div class="content-section">
                    <div class="header">
                        <h1>테토-에겐<br/>성격 유형 테스트</h1>
                        <p class="subtitle">나의 진짜 성향을 알아보세요!</p>
                    </div>
                    
                    <div class="features">
                        <div class="feature-box">
                            <div class="icon">♡</div>
                            <strong>재미있고 정확해요</strong>
                            <span>간단하고 재미있는 테스트</span>
                        </div>
                        <div class="feature-box">
                            <div class="icon">※</div>
                            <strong>4가지 매력적인 유형</strong>
                            <span>테토남·에겐남 · 테토녀 · 에겐녀</span>
                        </div>
                        <div class="feature-box">
                            <div class="icon">★</div>
                            <strong>상세한 성향 분석</strong>
                            <span>연애 스타일부터 일상 패턴까지 완벽 분석</span>
                        </div>
                    </div>
                    
                    <div class="combined-section">
                        <p class="description-text"><strong>테토-에겐 성격 유형이란?</strong><br/>
                        사람의 성향을 직선적인 테토와 감성적인 에겐으로 나눠
                        4가지 스타일로 표현한 심리 밈이에요.
                         재미로 보는 성격 유형이지만, 나를 알아보는 데 가볍게 참고할 수 있어요.</p>
                        
                        <h3>성별을 선택하고 테스트를 시작해보세요</h3>
                        <div class="gender-buttons">
                            <button class="start-btn" onclick="selectGender('male')">♂ 남성으로 시작</button>
                            <button class="start-btn" onclick="selectGender('female')">♀ 여성으로 시작</button>
                        </div>
                    </div>
                </div>
                
                <div class="cat-visual">
                    <img id="main-cat-img" src="" alt="고양이 캐릭터" onclick="changeCat()">
                </div>
            </div>
            

        </div>

        <!-- 질문 페이지 -->
        <div id="question-page" class="page">
            <div class="question-header">
                <button class="home-btn" onclick="goHome()">홈</button>
                <div class="progress-container">
                    <div class="question-number">
                        <span id="current-q">1</span> / <span id="total-q">10</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress" id="progress"></div>
                    </div>
                </div>
            </div>
            
            <div class="question-area">
                <div class="character-container">
                    <div class="character" id="character">
                        <img src="images/진성테토남.png" alt="캐릭터" style="width: 100%; height: 100%; object-fit: contain;">
                    </div>
                </div>
                <div class="speech-bubble">
                    <div class="question-title" id="question-text"></div>
                </div>
            </div>
            
            <div class="choices" id="choices-container">
                <!-- 동적으로 생성됨 -->
            </div>
            
            <div class="navigation-buttons">
                <button class="nav-btn prev-btn" id="prev-btn" onclick="previousQuestion()" disabled>이전</button>
                <button class="nav-btn next-btn" id="next-btn" onclick="nextQuestion()" disabled>다음</button>
            </div>
            

        </div>

        <!-- 결과 페이지 -->
        <div id="result-page" class="page">
            <div class="result-card">
                <!-- 카드 헤더 -->
                <div class="card-header">
                    <div class="card-title" id="result-type"></div>
                    <div class="card-subtitle" id="result-subtitle"></div>
                </div>
                
                <!-- 메인 컨텐츠 영역 -->
                <div class="main-content">
                    <!-- 왼쪽: 캐릭터 이미지 -->
                    <div class="character-section">
                        <div class="result-cat" id="result-cat-container">
                            <img id="result-cat-img" src="" alt="캐릭터 초상화">
                        </div>
                        <div class="character-level">
                            <span>LV.</span>
                            <span id="score-percentage"></span>
                        </div>
                        
                        <!-- 성향 지수 -->
                        <div class="stat-gauge">
                            <div class="stat-label">성향 지수</div>
                            <div class="gauge-track">
                                <div class="gauge-fill" id="gauge-pointer"></div>
                            </div>
                            <div class="gauge-labels">
                                <span>에겐</span>
                                <span>테토</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 오른쪽: 특성 & 궁합 -->
                    <div class="info-section">
                        <!-- 주요 특성 -->
                        <div class="features-box">
                            <div class="section-title">주요 특성</div>
                            <div class="features-grid" id="features-list"></div>
                        </div>
                        
                        <!-- 궁합 정보 -->
                        <div class="compatibility-box">
                            <div class="section-title">연애 궁합</div>
                            <div class="compatibility-cards">
                                <div class="compat-card good" id="love-good-content"></div>
                                <div class="compat-card bad" id="love-bad-content"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 아래: 캐릭터 정보 -->
                <div class="description-section">
                    <div class="section-title">캐릭터 정보</div>
                    <div class="character-desc" id="detailed-desc"></div>
                </div>
            </div>
            

            
            <div class="action-buttons">
                <button class="btn" onclick="shareResult()">공유하기</button>
                <button class="btn" onclick="restartTest()">다시 테스트하기</button>
            </div>
            
            <!-- 광고 영역 -->
            <div id="ad-top" style="margin: 20px 0; text-align: center;"></div>
            <div id="ad-middle" style="margin: 20px 0; text-align: center;"></div>
            <div id="ad-bottom" style="margin: 20px 0; text-align: center;"></div>
            

        </div>
    </div>
    
    <!-- 법적 고지 -->
    <footer style="margin: 40px 20px 20px; padding: 20px; background: rgba(255,255,255,0.8); border-radius: 15px; font-size: 0.9rem; color: #666; max-width: 1400px; margin-left: auto; margin-right: auto;">
        <div style="text-align: center; margin-bottom: 15px;">
            <a href="#privacy" onclick="showPrivacyPolicy()" style="color: #8B4513; text-decoration: none; margin: 0 10px;">개인정보처리방침</a>
            <a href="#terms" onclick="showTermsOfService()" style="color: #8B4513; text-decoration: none; margin: 0 10px;">서비스 이용약관</a>
        </div>
        <div style="text-align: center; font-size: 0.8rem; color: #999;">
            본 사이트는 맞춤형 광고를 위해 쿠키를 사용합니다. <a href="https://www.google.com/settings/ads" target="_blank" style="color: #8B4513;">광고 설정</a>
        </div>
    </footer>
    
    <!-- 개인정보처리방침 모달 -->
    <div id="privacy-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000;">
        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 30px; border-radius: 15px; max-width: 600px; max-height: 80%; overflow-y: auto;">
            <h2 style="color: #8B4513; margin-bottom: 20px;">개인정보처리방침</h2>
            <div style="line-height: 1.6; color: #333;">
                <h3>1. 쿠키 사용</h3>
                <p>본 사이트는 맞춤형 광고를 위해 쿠키(Cookie)를 사용합니다.</p>
                
                <h3>2. 제3자 광고</h3>
                <p>Google과 같은 제3자 광고 사업자가 쿠키를 사용해 광고를 게재합니다.</p>
                
                <h3>3. 광고 거부권</h3>
                <p>사용자는 <a href="https://www.google.com/settings/ads" target="_blank" style="color: #8B4513;">Google 광고 설정 페이지</a>에서 맞춤 광고를 거부할 수 있습니다.</p>
                
                <h3>4. 개인정보 수집</h3>
                <p>본 사이트는 별도의 개인정보를 수집하지 않으며, 테스트 결과는 사용자 기기에만 저장됩니다.</p>
            </div>
            <button onclick="closeModal('privacy-modal')" style="margin-top: 20px; padding: 10px 20px; background: #8B4513; color: white; border: none; border-radius: 5px; cursor: pointer;">닫기</button>
        </div>
    </div>
    
    <!-- 서비스 이용약관 모달 -->
    <div id="terms-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000;">
        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 30px; border-radius: 15px; max-width: 600px; max-height: 80%; overflow-y: auto;">
            <h2 style="color: #8B4513; margin-bottom: 20px;">서비스 이용약관</h2>
            <div style="line-height: 1.6; color: #333;">
                <h3>1. 서비스 이용</h3>
                <p>본 테스트는 재미를 위한 것으로, 실제 성격 분석과는 차이가 있을 수 있습니다.</p>
                
                <h3>2. AI 이미지 저작권</h3>
                <p>본 사이트의 일부 이미지는 AI로 생성되었으므로 운영자에게 저작권이 없습니다.</p>
                
                <h3>3. 이미지 사용 책임</h3>
                <p>AI 이미지를 무단 복제 및 배포할 경우, 이로 인해 발생하는 모든 법적 책임은 해당 행위를 한 개인에게 있습니다.</p>
                
                <h3>4. 운영자 면책</h3>
                <p>운영자는 사용자의 이미지 무단 사용으로 발생하는 문제에 대해 어떠한 책임도 지지 않습니다.</p>
                
                <h3>5. 서비스 변경</h3>
                <p>운영자는 사전 고지 없이 서비스를 변경하거나 중단할 수 있습니다.</p>
            </div>
            <button onclick="closeModal('terms-modal')" style="margin-top: 20px; padding: 10px 20px; background: #8B4513; color: white; border: none; border-radius: 5px; cursor: pointer;">닫기</button>
        </div>
    </div>

    <script>
        // 전역 변수
        let currentQuestion = 0;
        let totalScore = 0;
        let selectedGender = null;
        
        // 해금 시스템 관리 (localStorage 사용)
        function setUnlockData(characterKey, value) {
            try {
                localStorage.setItem(`unlocked_${characterKey}`, value.toString());
                console.log('해금 저장:', characterKey, value);
            } catch (error) {
                console.error('해금 저장 실패:', error);
            }
        }
        
        function getUnlockData(characterKey) {
            try {
                const result = localStorage.getItem(`unlocked_${characterKey}`);
                console.log('해금 확인:', characterKey, result);
                return result;
            } catch (error) {
                console.error('해금 확인 실패:', error);
                return null;
            }
        }
        
        function isUnlocked(characterKey) {
            const result = getUnlockData(characterKey) === 'true';
            console.log('해금 상태:', characterKey, result);
            return result;
        }
        
        function unlockCharacter(characterKey) {
            setUnlockData(characterKey, 'true');
            console.log('캐릭터 해금 완료:', characterKey);
        }
        
        // 메인 고양이 이미지 배열 (기본 + 해금된 캐릭터)
        const mainCatImages = [
            'images/result-teto-male.png',
            'images/result-egen-male.png', 
            'images/result-teto-female.png',
            'images/result-egen-female.png'
        ];
        
        function getAvailableImages() {
            try {
                const baseImages = [...mainCatImages];
                
                const specialImages = [
                    { key: 'egen-male2', img: 'images/result-egen-male2.png' },
                    { key: 'teto-male2', img: 'images/result-teto-male2.png' },
                    { key: 'egen-female2', img: 'images/result-egen-female2.png' },
                    { key: 'teto-female2', img: 'images/result-teto-female2.png' }
                ];
                
                specialImages.forEach(special => {
                    if (isUnlocked(special.key)) {
                        baseImages.push(special.img);
                    }
                });
                
                return baseImages;
            } catch (error) {
                return mainCatImages;
            }
        }
        
        function getQuestionImages() {
            try {
                const baseImages = [...mainCatImages];
                
                const specialImages = [
                    { key: 'egen-male2', unlocked: 'images/result-egen-male2.png', locked: 'images/flow-egen-male2.png' },
                    { key: 'teto-male2', unlocked: 'images/result-teto-male2.png', locked: 'images/flow-result-teto-male2.png' },
                    { key: 'egen-female2', unlocked: 'images/result-egen-female2.png', locked: 'images/flow-egen-female2.png' },
                    { key: 'teto-female2', unlocked: 'images/result-teto-female2.png', locked: 'images/flow-teto-female2.png' }
                ];
                
                specialImages.forEach(special => {
                    if (isUnlocked(special.key)) {
                        baseImages.push(special.unlocked);
                        console.log('해금된 캐릭터 추가:', special.key, special.unlocked);
                    } else {
                        baseImages.push(special.locked);
                        console.log('실루엣 캐릭터 추가:', special.key, special.locked);
                    }
                });
                
                console.log('질문창 사용 가능한 이미지:', baseImages);
                return baseImages;
            } catch (error) {
                console.error('getQuestionImages 오류:', error);
                return mainCatImages;
            }
        }
        let currentCatIndex = 0;
        
        // 질문 데이터 (15개 질문, 5개 선택지)
        const questions = [
            {
                q: "기분 좋을 때 나는?",
                choices: [
                    "글이나 음악으로 표현해요",
                    "얼굴로 티나요", 
                    "가끔 말해요",
                    "바로 말로 해요",
                    "말 안 하고 행동해요"
                ]
            },
            {
                q: "친구랑 어울릴 땐?",
                choices: [
                    "몇 명이랑만 깊게 지내요",
                    "조용히 함께 있어요",
                    "그때그때 달라요", 
                    "누구랑도 잘 어울려요",
                    "내가 분위기 주도해요"
                ]
            },
            {
                q: "좋아하는 사람 생기면?",
                choices: [
                    "말도 못 걸어요",
                    "눈치만 봐요",
                    "가끔 티 내요",
                    "먼저 말해요", 
                    "바로 대시해요"
                ]
            },
            {
                q: "속상할 때 나는?",
                choices: [
                    "글 쓰거나 음악 들어요",
                    "방에 혼자 있어요",
                    "산책해요",
                    "친구랑 얘기해요",
                    "운동하거나 바로 털어요"
                ]
            },
            {
                q: "옷 고를 때는?",
                choices: [
                    "분위기, 감성 중요해요",
                    "유행 따라 입어요",
                    "편하면서 예쁜 걸 골라요",
                    "심플한 게 좋아요",
                    "편하면 다 괜찮아요"
                ]
            },
            {
                q: "친구가 울면?",
                choices: [
                    "같이 울어요",
                    "옆에 조용히 있어줘요",
                    "토닥이며 얘기해요",
                    "웃게 해줘요",
                    "왜 우는지부터 물어요"
                ]
            },
            {
                q: "주말엔 주로?",
                choices: [
                    "집에서 책, 음악",
                    "방에서 쉬어요",
                    "산책이나 넷플릭스",
                    "친구 만나 놀아요",
                    "밖에서 활동 많이 해요"
                ]
            },
            {
                q: "어떤 사람 되고 싶어요?",
                choices: [
                    "감성 넘치는 사람",
                    "다정한 사람",
                    "공감 잘하는 사람",
                    "든든한 사람",
                    "멋지고 똑 부러진 사람"
                ]
            },
            {
                q: "싸움 나면 나는?",
                choices: [
                    "먼저 미안하다고 해요",
                    "그냥 피하려고 해요",
                    "서로 말 맞춰요",
                    "문제를 말로 풀어요",
                    "바로 문제 지적해요"
                ]
            },
            {
                q: "이상형은?",
                choices: [
                    "감성적인 사람",
                    "착하고 다정한 사람",
                    "얘기 잘 통하는 사람",
                    "똑똑하고 당찬 사람",
                    "솔직하고 리드하는 사람"
                ]
            },
            {
                q: "새로운 일 맡으면?",
                choices: [
                    "걱정부터 돼요",
                    "천천히 적응해요",
                    "계획 세워서 해요",
                    "바로 시작해요",
                    "내가 먼저 이끌어요"
                ]
            },
            {
                q: "낯선 곳에 가면?",
                choices: [
                    "긴장돼요",
                    "적응하려 노력해요",
                    "좀 불편하지만 해요",
                    "금방 익숙해져요",
                    "전혀 문제 없어요"
                ]
            },
            {
                q: "SNS 스타일은?",
                choices: [
                    "글·감성 사진 올려요",
                    "보기만 해요",
                    "가끔 올려요",
                    "활동 많이 해요",
                    "거의 안 써요"
                ]
            },
            {
                q: "제일 중요하게 생각하는 건?",
                choices: [
                    "마음과 감정",
                    "따뜻한 분위기",
                    "서로 배려하는 거",
                    "실용성과 결과",
                    "목표랑 성과"
                ]
            },
            {
                q: "내 성격은 어떤 편?",
                choices: [
                    "감성 위주예요",
                    "배려 많이 해요",
                    "상황 따라 달라요",
                    "바로 행동해요",
                    "내가 이끌어요"
                ]
            }
        ];

        // 결과 데이터 (나무위키 기반 정확한 정보)
        const results = {
            'teto-male': {
                type: "테토남",
                subtitle: "활발하고 주도적인 남성 ☀️",
                image: "images/result-teto-male.png",
                desc: "당신은 테토남이에요! 공격성과 사냥 본능이 강하고 자기주장이 강하며 리더십이 있어요.",
                features: ["강한 리더십", "논리적 사고", "현실 지향적", "활동적 성향", "직설적 표현"],
                detailedDesc: "테토남은 전형적인 남성적 특성을 강하게 보이는 유형입니다. 감정보다 논리를 우선시하며, 외부 세계인 정치, 사회적 지위, 명예에 관심이 많습니다. 분석하고 판단하는 것을 좋아하며 현실 지향적인 성향을 보입니다. 연애에서는 감정적 표현보다는 행동으로 표현하는 것을 선호하고, 직접적인 대시를 하는 편입니다. 패션이나 미용에는 큰 관심이 없으며, 간결하고 클래식한 스타일을 선호합니다. 가만히 있는 것을 못 참는 성격으로 활동량이 많고, 문제가 생기면 정면으로 맞서서 해결하려는 경향이 강합니다.",
                loveCompatibility: {
                    good: {
                        type: "에겐녀",
                        reason: "테토남의 강한 리더십과 에겐녀의 순종적 성향이 잘 맞아 안정적인 관계를 형성합니다. 서로 다른 성향이 보완적으로 작용해요."
                    },
                    bad: {
                        type: "테토녀",
                        reason: "둘 다 주도권을 잡으려 하는 성향이 강해 갈등이 생기기 쉽습니다. 서로 양보하지 않으려는 경향으로 관계가 어려울 수 있어요."
                    }
                }
            },
            'egen-male': {
                type: "에겐남",
                subtitle: "감성적이고 섬세한 남성 🌙",
                image: "images/result-egen-male.png",
                desc: "당신은 에겐남이에요! 감수성과 섬세함이 드러나며 예민한 편입니다.",
                features: ["높은 감수성", "예술적 감각", "내면 지향적", "섬세한 소통", "트렌드 민감"],
                detailedDesc: "에겐남은 전통적인 남성상과는 다른 감성적이고 섬세한 특성을 보이는 유형입니다. 추상적인 개념인 예술, 철학, 문학에 흥미가 많고 내면 지향적인 성향을 보입니다. 연애에서는 수동적인 경향이 있으며, 직접 대시하기보다는 받는 쪽이 편합니다. 섬세하고 공감적인 교류를 중시하며 감성적 소통에 능합니다. 트렌드에 민감하고 미적 감각이 뛰어나며, SNS를 꾸미는 데 익숙합니다. 혼자만의 시간을 중요하게 여기며 정적인 활동을 선호합니다. 때로는 전통적인 남성적 남성상에 대해 부러움을 느끼기도 합니다.",
                loveCompatibility: {
                    good: {
                        type: "테토녀",
                        reason: "테토녀의 적극적이고 주도적인 성향이 에겐남의 수동적 성향과 잘 맞아 균형잡힌 관계를 만듭니다. 서로의 부족한 부분을 채워줘요."
                    },
                    bad: {
                        type: "에겐녀",
                        reason: "둘 다 수동적이고 소극적인 성향으로 관계 발전이 어렵습니다. 서로 먼저 나서지 않으려 해서 답답함을 느낄 수 있어요."
                    }
                }
            },
            'teto-female': {
                type: "테토녀",
                subtitle: "활기차고 독립적인 여성 ⚡",
                image: "images/result-teto-female.png",
                desc: "당신은 테토녀예요! 활발하고 적극적이며 도전적인 태도를 지녀요.",
                features: ["강한 독립심", "적극적 성향", "커리어 중심", "직설적 표현", "활동적 라이프"],
                detailedDesc: "테토녀는 전통적인 여성상과는 다른 활발하고 독립적인 특성을 보이는 유형입니다. 독립심이 강하고 다소 단순한 사고 구조를 가질 수 있으며, 감정보다는 상황을 빠르게 판단하는 경향이 있습니다. 성취나 커리어 중심적인 사고를 하는 경우가 많으며, 때로는 연애보다 일에 몰입하는 시기도 있습니다. 호감 있는 이성에게 먼저 대시하는 것을 어려워하지 않고, 감정 표현이 직설적입니다. 스트릿 패션이나 힙한 스타일을 잘 소화하며, 운동을 즐기거나 활동적인 취미를 가진 경우가 많습니다. 이상형으로는 남성적인 남자를 선호하는 경향이 있습니다.",
                loveCompatibility: {
                    good: {
                        type: "에겐남",
                        reason: "테토녀의 주도적 성향과 에겐남의 수용적 성향이 조화를 이뤄 안정적인 관계를 형성합니다. 역할 분담이 자연스럽게 이뤄져요."
                    },
                    bad: {
                        type: "테토남",
                        reason: "둘 다 주도권을 잡으려는 성향이 강해 충돌이 잦습니다. 서로 자신의 방식을 고집하려 해서 타협이 어려울 수 있어요."
                    }
                }
            },
            'egen-female': {
                type: "에겐녀",
                subtitle: "부드럽고 감성적인 여성 🌸",
                image: "images/result-egen-female.png",
                desc: "당신은 에겐녀예요! 주장이나 기가 강한 편은 아니며 다소 겁이 많고 자기 자신에 대해 자주 고민해요.",
                features: ["높은 공감능력", "섬세한 감성", "예술적 취향", "안정 추구", "여성스러운 매력"],
                detailedDesc: "에겐녀는 전통적인 여성상에 가까운 부드럽고 감성적인 특성을 보이는 유형입니다. 주장이나 기가 강한 편은 아니며, 다소 겁이 많고 자기 자신에 대해 자주 고민합니다. 복잡한 내면 구조를 지니고 있으며, 타인의 감정에 민감하게 반응하고 공감 능력이 높습니다. 연애에서는 먼저 다가가기보다는 상대의 대시를 받으면 관계가 시작되는 경우가 많으며, 감성적 유대와 안정감을 중요하게 여깁니다. 부드럽고 정적인 분위기를 가지며, 여성스럽고 클래식한 스타일이 자연스럽게 어울립니다. 감각이 있는 경우 예술, 문학, 디자인 등 창의적 분야에 깊은 몰입을 보일 수 있습니다.",
                loveCompatibility: {
                    good: {
                        type: "테토남",
                        reason: "테토남의 강한 리더십과 에겐녀의 수용적 성향이 전통적인 관계 역할과 잘 맞아 조화로운 관계를 형성합니다. 서로를 보완해주는 관계예요."
                    },
                    bad: {
                        type: "에겐남",
                        reason: "둘 다 소극적이고 수동적인 성향으로 관계 진전이 매우 느립니다. 서로 기다리기만 해서 발전이 어려울 수 있어요."
                    }
                }
            },
            // 특별 캐릭터들 (90~100% 달성 시)
            'teto-male2': {
                type: "극테토남",
                subtitle: "당신은 10%의 극테토남입니다! 🔥",
                image: "images/result-teto-male2.png",
                desc: "축하합니다! 당신은 매우 희귀한 극테토남 성향입니다. 극도로 강한 리더십과 추진력을 가진 진정한 알파형 인간이에요.",
                features: ["절대적 리더십", "극강 추진력", "완벽한 논리성", "전략적 천재성", "압도적 카리스마"],
                detailedDesc: "극테토남은 전체 인구의 10%에 해당하는 매우 희귀한 성향입니다. 타고난 리더로서 어떤 상황에서도 주도권을 잡으며, 감정보다 논리를 극도로 우선시합니다. 목표 달성을 위해서는 수단과 방법을 가리지 않는 강인한 정신력을 가지고 있으며, 다른 사람들이 따라오기 힘들 정도의 추진력과 결단력을 보입니다. 연애에서도 극도로 직설적이고 주도적이며, 상대방을 완전히 리드하려는 성향이 강합니다.",
                loveCompatibility: {
                    good: { type: "에겐녀", reason: "극단적 대비로 완벽한 균형" },
                    bad: { type: "테토녀", reason: "두 강자의 격렬한 충돌" }
                }
            },
            'egen-male2': {
                type: "극에겐남",
                subtitle: "당신은 10%의 극에겐남입니다! 🎨",
                image: "images/result-egen-male2.png",
                desc: "축하합니다! 당신은 매우 희귀한 극에겐남 성향입니다. 극도로 섬세한 감수성과 예술적 감각을 가진 진정한 감성형 인간이에요.",
                features: ["극한의 감수성", "예술적 천재성", "초월적 내면성", "완벽한 공감능력", "독창적 사고력"],
                detailedDesc: "극에겐남은 전체 인구의 10%에 해당하는 매우 희귀한 성향입니다. 감정과 직감을 극도로 중시하며, 예술과 미학에 대한 타고난 감각을 가지고 있습니다. 다른 사람의 감정을 마치 자신의 것처럼 느낄 수 있을 정도로 공감능력이 뛰어나며, 내면의 세계가 극도로 복잡하고 풍부합니다. 연애에서는 극도로 로맨틱하고 감성적이며, 상대방의 마음을 세심하게 읽어내는 능력이 탁월합니다.",
                loveCompatibility: {
                    good: { type: "테토녀", reason: "극단적 대비로 완벽한 균형" },
                    bad: { type: "에겐녀", reason: "두 감성의 과도한 충돌" }
                }
            },
            'teto-female2': {
                type: "극테토녀",
                subtitle: "당신은 10%의 극테토녀입니다! ⚡",
                image: "images/result-teto-female2.png",
                desc: "축하합니다! 당신은 매우 희귀한 극테토녀 성향입니다. 극도로 강한 독립성과 주도력을 가진 진정한 여전사형 인간이에요.",
                features: ["절대적 독립성", "극강 리더십", "완벽한 주도력", "전략적 천재성", "혁신적 사고력"],
                detailedDesc: "극테토녀는 전체 인구의 10%에 해당하는 매우 희귀한 성향입니다. 전통적인 여성상을 완전히 뛰어넘어 극도로 독립적이고 주도적입니다. 커리어와 성취를 최우선으로 하며, 어떤 상황에서도 자신의 길을 개척해 나가는 강인함을 가지고 있습니다. 연애에서도 극도로 적극적이고 주도적이며, 상대방보다 자신이 관계를 이끌어가려는 성향이 매우 강합니다.",
                loveCompatibility: {
                    good: { type: "에겐남", reason: "극단적 대비로 완벽한 균형" },
                    bad: { type: "테토남", reason: "두 강자의 격렬한 충돌" }
                }
            },
            'egen-female2': {
                type: "극에겐녀",
                subtitle: "당신은 10%의 극에겐녀입니다! 🌸",
                image: "images/result-egen-female2.png",
                desc: "축하합니다! 당신은 매우 희귀한 극에겐녀 성향입니다. 극도로 섬세한 감성과 여성스러운 매력을 가진 진정한 공주형 인간이에요.",
                features: ["극한의 감수성", "완벽한 예술성", "초월적 내면성", "최고의 공감능력", "완벽한 여성성"],
                detailedDesc: "극에겐녀는 전체 인구의 10%에 해당하는 매우 희귀한 성향입니다. 전통적인 여성성을 극대화한 형태로, 극도로 섬세하고 감성적입니다. 타인의 감정에 극도로 민감하게 반응하며, 자신만의 내면 세계가 매우 복잡하고 아름답습니다. 예술적 감각이 뛰어나며, 아름다운 것들에 대한 감상능력이 탁월합니다. 연애에서는 극도로 로맨틱하고 감성적인 관계를 추구하며, 상대방의 보호와 배려를 받고 싶어합니다.",
                loveCompatibility: {
                    good: { type: "테토남", reason: "극단적 대비로 완벽한 균형" },
                    bad: { type: "에겐남", reason: "두 감성의 과도한 충돌" }
                }
            }
        };

        // 페이지 전환
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
        }

        // 메인 고양이 이미지 변경
        function changeCat() {
            const img = document.getElementById('main-cat-img');
            
            // 클릭 효과
            img.style.transform = 'scale(0.9) rotate(-5deg)';
            
            setTimeout(() => {
                try {
                    const availableImages = getAvailableImages();
                    currentCatIndex = (currentCatIndex + 1) % availableImages.length;
                    img.src = availableImages[currentCatIndex];
                } catch (error) {
                    currentCatIndex = (currentCatIndex + 1) % mainCatImages.length;
                    img.src = mainCatImages[currentCatIndex];
                }
                
                // 바운스 효과
                img.style.transform = 'scale(1.1) rotate(5deg)';
                
                setTimeout(() => {
                    img.style.transform = 'scale(1) rotate(0deg)';
                }, 200);
            }, 150);
            
            // 귀여운 사운드 효과 (시각적 피드백)
            showCatReaction();
        }
        

        

        
        // 고양이 반응 표시
        function showCatReaction() {
            const reactions = ['♡', '★', '※', '♪', '◆', '◇'];
            const reaction = reactions[Math.floor(Math.random() * reactions.length)];
            
            const reactionEl = document.createElement('div');
            reactionEl.textContent = reaction;
            reactionEl.style.cssText = `
                position: absolute;
                font-size: 30px;
                pointer-events: none;
                z-index: 1000;
                animation: floatUp 2s ease-out forwards;
                color: var(--teto-color);
            `;
            
            const catVisual = document.querySelector('.cat-visual');
            const rect = catVisual.getBoundingClientRect();
            reactionEl.style.left = (rect.left + rect.width/2 - 15) + 'px';
            reactionEl.style.top = (rect.top + rect.height/2 - 15) + 'px';
            
            document.body.appendChild(reactionEl);
            
            setTimeout(() => {
                if (reactionEl.parentNode) {
                    reactionEl.parentNode.removeChild(reactionEl);
                }
            }, 2000);
        }

        // 성별 선택
        function selectGender(gender) {
            selectedGender = gender;
            startTest();
        }

        // 테스트 시작
        function startTest() {
            if (!selectedGender) {
                alert('성별을 먼저 선택해주세요!');
                return;
            }
            currentQuestion = 0;
            totalScore = 0;
            document.getElementById('total-q').textContent = questions.length;
            showPage('question-page');
            displayQuestion();
        }

        // 질문 표시
        function displayQuestion() {
            if (currentQuestion < questions.length) {
                const question = questions[currentQuestion];
                
                document.getElementById('current-q').textContent = currentQuestion + 1;
                document.getElementById('question-text').textContent = question.q;
                
                // 랜덤 캐릭터 이미지 변경
                const characterImg = document.querySelector('#character img');
                try {
                    const questionImages = getQuestionImages();
                    const randomCharacter = questionImages[Math.floor(Math.random() * questionImages.length)];
                    characterImg.src = randomCharacter;
                } catch (error) {
                    const randomCharacter = mainCatImages[Math.floor(Math.random() * mainCatImages.length)];
                    characterImg.src = randomCharacter;
                }
                
                // 5개 선택지를 랜덤 순서로 섞기
                const choicesContainer = document.querySelector('.choices');
                choicesContainer.innerHTML = '';
                
                // 선택지와 점수를 함께 배열로 만들기
                const choicesWithScores = question.choices.map((choice, index) => ({
                    text: choice,
                    score: index + 1
                }));
                
                // 배열을 랜덤하게 섞기
                for (let i = choicesWithScores.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [choicesWithScores[i], choicesWithScores[j]] = [choicesWithScores[j], choicesWithScores[i]];
                }
                
                // 섞인 순서로 버튼 생성
                choicesWithScores.forEach((choice, index) => {
                    const button = document.createElement('button');
                    button.className = 'choice-btn';
                    button.textContent = `${index + 1}. ${choice.text}`;
                    button.onclick = () => selectAnswer(choice.score);
                    button.ondblclick = () => {
                        selectAnswer(choice.score);
                        setTimeout(() => {
                            if (currentQuestion < questions.length - 1) {
                                nextQuestion();
                            } else {
                                calculateFinalResult();
                            }
                        }, 100);
                    };
                    
                    // 이미 답변한 질문이면 선택 상태 복원
                    if (userAnswers[currentQuestion] === choice.score) {
                        button.classList.add('selected');
                    }
                    
                    choicesContainer.appendChild(button);
                });
                
                // 네비게이션 버튼 상태 업데이트
                document.getElementById('prev-btn').disabled = currentQuestion === 0;
                document.getElementById('next-btn').disabled = !userAnswers[currentQuestion];
                
                // 진행률 업데이트
                const progress = (currentQuestion / questions.length) * 100;
                document.getElementById('progress').style.width = progress + '%';
                
                // 질문 영역 애니메이션 재시작
                const questionArea = document.querySelector('.question-area');
                questionArea.style.animation = 'none';
                setTimeout(() => {
                    questionArea.style.animation = 'questionFadeIn 0.6s ease-out';
                }, 10);
                
                // 캐릭터 애니메이션
                const character = document.getElementById('character');
                character.style.transform = 'scale(0.9)';
                
                setTimeout(() => {
                    character.style.transform = 'scale(1)';
                }, 200);
                

            } else {
                calculateResult();
            }
        }

        // 사용자 답변 저장 배열
        let userAnswers = [];
        
        // 답변 선택
        function selectAnswer(score) {
            // 현재 질문의 답변 저장
            userAnswers[currentQuestion] = score;
            
            // 다음 버튼 활성화
            document.getElementById('next-btn').disabled = false;
            
            // 선택된 버튼 하이라이트
            const buttons = document.querySelectorAll('.choice-btn');
            buttons.forEach(btn => btn.classList.remove('selected'));
            event.target.classList.add('selected');
            
            // 고양이 반응
            showQuestionCatReaction(score);
        }
        
        // 이전 질문
        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                displayQuestion();
            }
        }
        
        // 다음 질문
        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                displayQuestion();
            } else {
                // 마지막 질문이면 결과 계산
                calculateFinalResult();
            }
        }
        
        // 홈으로 이동
        function goHome() {
            if (confirm('테스트를 중단하고 홈으로 돌아가시겠습니까?')) {
                currentQuestion = 0;
                userAnswers = [];
                selectedGender = null;
                showPage('start-page');
            }
        }
        
        // 최종 결과 계산
        function calculateFinalResult() {
            totalScore = userAnswers.reduce((sum, score) => sum + score, 0);
            calculateResult();
        }
        
        // 캐릭터 반응
        function showQuestionCatReaction(score) {
            const character = document.getElementById('character');
            
            // 캐릭터 애니메이션만 실행 (이미지는 변경하지 않음)
            character.style.transform = 'scale(1.1)';
            
            setTimeout(() => {
                character.style.transform = 'scale(1)';
            }, 200);
        }

        // 결과 계산
        function calculateResult() {
            // 평균 점수로 판단 (15문항 * 5점 = 75점 만점, 중간값 45점)
            const averageScore = totalScore / questions.length;
            const personalityType = averageScore >= 3 ? 'teto' : 'egen';
            
            // 성향 지수 계산
            let scorePercentage;
            if (personalityType === 'teto') {
                scorePercentage = Math.round(((averageScore - 1) / 4) * 100);
            } else {
                scorePercentage = Math.round(((5 - averageScore) / 4) * 100);
            }
            
            // 80~100% 달성 시 특별 캐릭터 해금
            let resultKey = `${personalityType}-${selectedGender}`;
            
            if (scorePercentage >= 80) {
                const specialKey = `${personalityType}-${selectedGender}2`;
                if (results[specialKey]) {
                    resultKey = specialKey;
                    if (!isUnlocked(specialKey)) {
                        unlockCharacter(specialKey);
                        console.log('새로운 특별 캐릭터 해금:', specialKey);
                    }
                }
            }
            
            const result = results[resultKey];
            
            // 기본 결과 표시
            const resultTypeElement = document.getElementById('result-type');
            resultTypeElement.textContent = result.type;
            resultTypeElement.className = `result-type ${personalityType}`;
            resultTypeElement.style.color = '#7F6751';
            document.getElementById('result-subtitle').textContent = result.subtitle;
            document.getElementById('result-cat-img').src = result.image;
            document.getElementById('result-cat-container').className = `result-cat ${resultKey}`;

            
            // 성향 점수 표시
            document.getElementById('score-percentage').textContent = `${scorePercentage}%`;
            
            setTimeout(() => {
                const gaugePointer = document.getElementById('gauge-pointer');
                if (personalityType === 'teto') {
                    gaugePointer.style.left = `${scorePercentage}%`;
                } else {
                    gaugePointer.style.left = `${100 - scorePercentage}%`;
                }
            }, 500);
            
            // 상세 정보 표시
            displayDetailedInfo(result);
            
            showPage('result-page');
        }
        
        // 상세 정보 표시
        function displayDetailedInfo(result) {
            // 특징 표시
            const featuresList = document.getElementById('features-list');
            featuresList.innerHTML = result.features.map(feature => 
                `<div class="feature-item">${feature}</div>`
            ).join('');
            
            // 상세 설명
            document.getElementById('detailed-desc').textContent = result.detailedDesc;
            
            // 궁합 정보
            document.getElementById('love-good-content').innerHTML = `
                <div class="match-type">${result.loveCompatibility.good.type}</div>
                <div class="match-reason">${result.loveCompatibility.good.reason}</div>
            `;
            
            document.getElementById('love-bad-content').innerHTML = `
                <div class="match-type">${result.loveCompatibility.bad.type}</div>
                <div class="match-reason">${result.loveCompatibility.bad.reason}</div>
            `;
        }

        // 결과 공유
        async function shareResult() {
            const type = document.getElementById('result-type').textContent;
            const shareText = `나의 테토-에겐 테스트 결과는 "${type}"입니다! 🐱 당신도 테스트해보세요!`;
            const shareUrl = window.location.href;
            
            try {
                // 캐릭터 이미지를 캔버스에 그리고 블롭으로 변환
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                const img = document.getElementById('result-cat-img');
                
                canvas.width = 400;
                canvas.height = 500;
                
                // 배경 그리기
                ctx.fillStyle = '#FFF7E8';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // 제목 그리기
                ctx.fillStyle = '#6C4F3D';
                ctx.font = 'bold 24px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('테토-에겐 성격 테스트', canvas.width/2, 40);
                
                // 결과 타입 그리기
                ctx.font = 'bold 32px Arial';
                ctx.fillText(type, canvas.width/2, 80);
                
                // 이미지 그리기 (이미지가 로드된 경우)
                if (img.complete && img.naturalHeight !== 0) {
                    const imgSize = 200;
                    const imgX = (canvas.width - imgSize) / 2;
                    const imgY = 120;
                    
                    ctx.save();
                    ctx.beginPath();
                    ctx.arc(imgX + imgSize/2, imgY + imgSize/2, imgSize/2, 0, Math.PI * 2);
                    ctx.clip();
                    ctx.drawImage(img, imgX, imgY, imgSize, imgSize);
                    ctx.restore();
                }
                
                // URL 그리기
                ctx.fillStyle = '#7F6751';
                ctx.font = '16px Arial';
                ctx.fillText(shareUrl, canvas.width/2, 450);
                
                // 캔버스를 블롭으로 변환
                const blob = await new Promise(resolve => {
                    canvas.toBlob(resolve, 'image/png');
                });
                
                // Web Share API 사용 - 이미지와 텍스트 함께 공유
                if (navigator.share) {
                    try {
                        // 먼저 이미지와 텍스트 함께 공유 시도
                        const shareDataWithImage = {
                            title: '테토-에겐 성격 테스트 결과',
                            text: `${shareText}\n\n${shareUrl}`,
                            files: [new File([blob], 'teto-egen-result.png', { type: 'image/png' })]
                        };
                        
                        if (navigator.canShare && navigator.canShare(shareDataWithImage)) {
                            await navigator.share(shareDataWithImage);
                        } else {
                            // 이미지 공유가 안되면 텍스트와 URL만 공유
                            await navigator.share({
                                title: '테토-에겐 성격 테스트 결과',
                                text: shareText,
                                url: shareUrl
                            });
                        }
                    } catch (shareError) {
                        // 공유 실패 시 대체 방법
                        fallbackShare(shareText, shareUrl);
                    }
                } else {
                    // Web Share API가 지원되지 않으면 클립보드에 복사
                    await navigator.clipboard.writeText(`${shareText}\n${shareUrl}`);
                    alert('결과가 클립보드에 복사되었습니다! 어디든 붙여넣기 하세요 😊');
                }
            } catch (error) {
                console.error('공유 오류:', error);
                // 오류 발생 시 기본 공유
                fallbackShare(shareText, shareUrl);
            }
        }
        
        // 대체 공유 방법
        function fallbackShare(shareText, shareUrl) {
            const fullShareText = `${shareText}\n\n${shareUrl}`;
            
            if (navigator.clipboard) {
                navigator.clipboard.writeText(fullShareText).then(() => {
                    alert('결과 텍스트와 링크가 클립보드에 복사되었습니다! 어디든 붙여넣기 하세요 😊');
                }).catch(() => {
                    prompt('아래 내용을 복사해주세요:', fullShareText);
                });
            } else {
                prompt('아래 내용을 복사해주세요:', fullShareText);
            }
        }

        
        // 테스트 재시작
        function restartTest() {
            selectedGender = null;
            showPage('start-page');
        }

        // 초기화 및 추가 애니메이션
        document.addEventListener('DOMContentLoaded', function() {
            // 페이지 로드 시 랜덤 고양이 이미지 설정
            try {
                const availableImages = getAvailableImages();
                const randomIndex = Math.floor(Math.random() * availableImages.length);
                document.getElementById('main-cat-img').src = availableImages[randomIndex];
                currentCatIndex = randomIndex;
            } catch (error) {
                const randomIndex = Math.floor(Math.random() * mainCatImages.length);
                document.getElementById('main-cat-img').src = mainCatImages[randomIndex];
                currentCatIndex = randomIndex;
            }
            
            // 페이지 로드 애니메이션
            setTimeout(() => {
                document.querySelector('.start-container').style.animation = 'fadeInUp 1s ease-out';
            }, 100);
            
            // 마우스 따라다니는 고양이 발자국 효과
            let mouseTrail = [];
            document.addEventListener('mousemove', function(e) {
                if (mouseTrail.length > 5) {
                    const oldTrail = mouseTrail.shift();
                    if (oldTrail.parentNode) {
                        oldTrail.parentNode.removeChild(oldTrail);
                    }
                }
                
                const paw = document.createElement('div');
                paw.textContent = '•';
                paw.style.cssText = `
                    position: fixed;
                    left: ${e.clientX - 10}px;
                    top: ${e.clientY - 10}px;
                    font-size: 16px;
                    pointer-events: none;
                    z-index: 1;
                    opacity: 0.6;
                    animation: pawFade 2s ease-out forwards;
                    color: var(--teto-color);
                `;
                
                document.body.appendChild(paw);
                mouseTrail.push(paw);
                
                setTimeout(() => {
                    if (paw.parentNode) {
                        paw.parentNode.removeChild(paw);
                    }
                }, 2000);
            });
        });
        
        // 모달 관련 함수
        function showPrivacyPolicy() {
            document.getElementById('privacy-modal').style.display = 'block';
        }
        
        function showTermsOfService() {
            document.getElementById('terms-modal').style.display = 'block';
        }
        
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }
        
        // 모달 외부 클릭 시 닫기
        window.onclick = function(event) {
            const privacyModal = document.getElementById('privacy-modal');
            const termsModal = document.getElementById('terms-modal');
            if (event.target === privacyModal) {
                privacyModal.style.display = 'none';
            }
            if (event.target === termsModal) {
                termsModal.style.display = 'none';
            }
        }
    </script>
</body>
</html>